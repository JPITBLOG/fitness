(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["CreativeEditorPageDesktop~ExperiencesAfterHomefeed~ExperiencesBeforeHomefeed~PinAnalyticsPageDesktop~f18b3dce"],{"2rhI":function(e,t,n){n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return c});var a=n("hvnN"),o=n.n(a),r=n("QJ2d");const i={FACEBOOK:"facebook",GOOGLE_ONE_TAP:"google_one_tap",GOOGLE:"google",EMAIL:"email",OTHER:"other"},s=e=>e.facebook_id?i.FACEBOOK:e.google_open_id_token?i.GOOGLE_ONE_TAP:e.gplus_code||e.gplus_id_token?i.GOOGLE:e.email?i.EMAIL:i.OTHER,l=(o.a.shape({credentials:o.a.shape({}),userData:o.a.shape({}),type:o.a.oneOf(Object.values(i))}),e=>e in r.a.settings.MINIMUM_AGE_BY_EU_COUNTRY),c=e=>r.a.settings.EN_COUNTRIES_WITH_MANDATORY_AGE.includes(e)},"3nbW":function(e,t,n){var a=n("f5ca"),o=n("D+W/"),r=n("oFGA"),i=n("/YZq"),s=n("ePT2"),l=n("PhUE"),c=n("ggpB");const u=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[105,"FACEBOOK_ACCOUNT_NOT_LINKED"],[12,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[16,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[77,"INVALID_PASSWORD_FB_USER"],[78,"INVALID_PASSWORD_ERROR_CODE"],[79,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[82,"LOGIN_DEACTIVATED_USER"],[83,"LOGIN_POLICY_VIOLATION_USER"],[85,"AUTO_PASSWORD_RESET_ERROR_CODE"],[86,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[93,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[8,"API_LIMIT_EXCEEDED_ERROR"],[9,"API_EVENT_BLOCKED_ERROR"],[19,"USER_IN_SAFE_MODE"],[84,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[85,"LOGIN_BAD_PASSWORD_ASK_RESET"],[1201,"LOGIN_MFA_REQUIRED"],[30,"LOGIN_USER_NOT_FOUND"],[88,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"]]);function d(e,t,n="unknown_source",a=!1){if(e){const r=e.http_status===o.a.RESPONSE_CODE_TOO_MANY_REQUESTS?o.a.RESPONSE_CODE_TOO_MANY_REQUESTS:e.api_error_code;let i=r;u.has(r)&&(i=u.get(r));const s=t.container;a?Object(c.a)(`unauth_web_client_cctld_login_api_error.${String(i)}.${s||"unknow_container"}.${n}`):Object(c.a)(`unauth_web_client_login_api_error.${String(i)}.${s||"unknow_container"}.${n}`)}}var m=n("DU5A"),p=n("2rhI"),h=n("HLgS");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=i.a.getLogger("UserLogin"),f=i.a.getLogger("AuthHandshake"),_=function(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":e.facebook_id?p.a.FACEBOOK:e.google_open_id_token?p.a.GOOGLE_ONE_TAP:e.gplus_id_token?p.a.GOOGLE:e.phone_number?"phone_number":e.username_or_email?p.a.EMAIL:p.a.OTHER},x=function(e,t){let n="referrer_unknown";try{const e=document.referrer;n=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(l){}const a=_(e),o=t===Object(t)?t.hybridTier:"tier_unknown",r=t===Object(t)?t.container:"container_unknown";Object(c.a)("login.referrer."+n+"."+a),Object(c.a)("login.container."+r+"."+a),Object(c.a)("login.type."+a);const i=_(e)||"method_unknown",s=t.page||"page_unknown";e.gplus_autologin?Object(c.a)("web_autologin_google"):e.facebook_autologin?Object(c.a)("web_autologin_facebook"):Object(c.a)(`web_login.${i}.success.${s}.${r}.${n}.${o}`)},E=(e,t)=>{Object(c.a)(`web_cross_domain_login.${e}.${_(t)}`)};t.a=function(e,t={},n=null,i=!1,c,u){if(function(e){return!e.mfa_resend&&!!e.username_or_email}(e)&&-1!==o.a.GEN.templateConst.settings.CORS_HANDSHAKE_DOMAINS.indexOf(r.a.instance.origin))return function(e,t){return E("attempt",e),a.default.loginUser(e).then(n=>{if(n&&n.data){E("success_with_token",e);const o=n.data;return a.default.exchangeTokenAndSetSession(o).then(n=>(E("success_token_exchanged",e),x(e,t),f.debug("Cross domain login successful"),Promise.resolve()),t=>{throw E("success_token_not_exchanged",e),f.error("Failed to set session for current user; "+t.message),t})}throw E("success_without_token",e),f.error("No custom access token in cross domain login response"),new Error},n=>{throw E("failure",e),d(n,t,_(e),!0),f.error("Failed to login user; "+n.message),n})}(e,t);e.switch_account&&(e.get_user=!!i||e.get_user);const p=i?null:l.b.localStorage.getItem("visitedPagesBeforeLogin"),w=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){g(e,t,n[t])})}return e}({},e,{app_type_from_client:5,visited_pages_before_login:p?JSON.stringify(p):null,recaptchaToken:c,tokenV3:u});return s.a.create("UserSessionResource",w).callCreate({showError:!1,async:!0}).then(n=>(b.debug("Login, successful",n),x(e,t),Object(m.g)(!1),Object(h.b)("login").then(()=>n)),n=>(d(n,t,_(e)),Promise.reject(n)))}},"73jm":function(e,t,n){n.d(t,"a",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i});var a=n("hvnN");const o={login:"login",loginMfa:"loginMfa",signup:"signup",personalizedLogin:"personalizedLogin",socialSignupWithAge:"socialSignupWithAge",FBEmailRerequest:"FBEmailRerequest",emailConfirmation:"emailConfirmation",magicLinkConfirmation:"magicLinkConfirmation"},r={login:"login",loginMfa:"loginMfa",signup:"signup",signupOrPersonalizedLogin:"signupOrPersonalizedLogin",socialSignupWithAge:"socialSignupWithAge",FBEmailRerequest:"FBEmailRerequest",emailConfirmation:"emailConfirmation",magicLinkConfirmation:"magicLinkConfirmation",respondMessage:"respondMessage"},i={boardPage:"boardPage",boardInvite:"boardInvite",defaultSource:"defaultSource",homePage:"homePage",mwebDefaultSource:"mwebDefaultSource",invite:"invite",login:"login",userFollow:"userFollow",userProfilePage:"userProfilePage",saveButton:"saveButton",actionButton:"actionButton",signupButton:"signupButton",personalizedFlyout:"personalizedFlyout",navigateBoard:"navigateBoard",navigatePin:"navigatePin",navigateInterest:"navigateInterest",unauthHeader:"unauthHeader",unauthBanner:"unauthBanner",giftWrap:"giftWrap",loginMfa:"loginMfa"};n.n(a).a.oneOf([i.boardPage,i.boardInvite,i.defaultSource,i.giftWrap,i.homePage,i.invite,i.login,i.mwebDefaultSource,i.navigateBoard,i.navigatePin,i.navigateInterest,i.saveButton,i.signupButton,i.unauthBanner,i.unauthHeader,i.userFollow,i.userProfilePage])},"8Hll":function(e,t,n){function a(e){return{type:"SET_NUX_PROGRESS",payload:{step:e}}}n.d(t,"a",function(){return a})},DU5A:function(e,t,n){n.d(t,"a",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"i",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"h",function(){return d}),n.d(t,"g",function(){return m}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return h});var a=n("WQSK"),o=n("PhUE"),r=n("2cJX");function i(e,t=!1,n="",a,o){return t?r.a.tier1:n&&n.includes("yahoo.co.jp")&&"JP"===e?r.a.tier1:(e=e||"",r.e.has(e)?r.a.tier1:r.g.has(e)?r.a.tier2:r.a.tier3)}function s(){a.set("hasBeenShownLoginModalInOpen","true",r.c)}function l(e){o.b.sessionStorage.setItem("uimb",!!e)}function c(){return o.b.sessionStorage.getItem("uimb")||!1}function u(e){return void 0!==e&&o.b.sessionStorage.setItem("mdfu",e),o.b.sessionStorage.getItem("mdfu")||0}function d(e){o.b.sessionStorage.setItem("siou",!!e)}function m(e){o.b.localStorage.setItem("uoiou",!!e)}function p(){return o.b.localStorage.getItem("uoiou")||!1}function h(e=!1){return p()||o.b.sessionStorage.getItem("siou")||!1||!e&&c()}},IItM:function(e,t,n){t.a={ACCOUNT_SWITCHER_FLYOUT:"account_switcher_flyout",ACCOUNT_SWITCHER_MODAL:"account_switcher_modal",ACCOUNT_RECOVERY:"account_recovery",BOARD_INVITE:"board_invite",CLOSEUP:"closeup",CLOSEUP_BANNER:"closeup_banner",FOLLOW_BUTTON:"followbtn",GOOGLE_ONE_TAP:"google_one_tap_modal",LOGIN_PAGE:"login_page",INSPIRED_BANNER:"inspired_banner",MFA_LOGIN_PAGE:"mfa_login_page",HYBRID_CLICKTHROUGH:"hybrid_clickthrough",HYBRID_BANNER:"hybrid_banner",PIN_GRID:"pin_grid",PIN_IMAGE:"pin_image",RESPONSE_FLYOUT:"response_flyout",UNAUTH_BANNER:"unauth_banner",UNAUTH_HEADER:"unauth_header"}},KOHj:function(e,t,n){var a=n("GyhR"),o=n.n(a),r=n("+U6O");var i=e=>{if(e.viewerId===e.account.id)return null;{const t=e.account.imageMediumUrl&&!e.account.imageMediumUrl.includes("static/images/user/default");return o.a.createElement(r.b,{alignItems:"center",direction:"row",display:"flex",height:"100%",width:"100%"},o.a.createElement(r.b,{paddingX:1},o.a.createElement(r.a,{name:e.account.fullName||e.account.username,src:t?e.account.imageMediumUrl:"",size:e.large?"lg":"md"})),o.a.createElement(r.b,{marginLeft:3,flex:"grow"},o.a.createElement(r.J,{bold:!0,color:"darkGray",size:"md",truncate:!0},e.account.fullName||e.account.username),e.account.email&&o.a.createElement(r.J,{color:"darkGray",size:"md",truncate:!0},e.account.email)))}},s=n("rBws");var l=e=>{const t=Object.keys(e.accounts).length;return o.a.createElement(r.b,{position:"relative"},o.a.createElement(r.b,{color:"lightGray",height:20*t*4,position:"absolute",width:1,dangerouslySetInlineStyle:{__style:{bottom:48,left:52}}}),o.a.createElement("ul",null,Object.keys(e.accounts).map(t=>{const n=e.accounts[t];return o.a.createElement("li",{key:t},o.a.createElement(r.O,{onTouch:()=>e.onClick(n)},o.a.createElement("div",{className:"AccountSwitcherListItem",style:{padding:"8px 16px 8px 28px"}},o.a.createElement(i,{account:n}))))})))},c=n("XQD6"),u=n("IItM"),d=n("Qo1m"),m=n("V0Gb"),p=n("3nbW"),h=n("iJ35"),g=n("ePT2"),b=n("lglE"),f=n("+H5w"),_=n("k9eC"),x=n("lixz"),E=n("NmcB"),w=n("Y2BC"),S=n("rlRx");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=Object(w.b)({key:"businessUser",name:"UserResource",options:({viewer:e})=>({field_set_key:"linked_partner",user_id:e.id})})(class extends a.Component{constructor(...e){super(...e),y(this,"state",{failedAccount:null,showLoginModal:!1,isLoading:!1}),y(this,"handleAddAccount",()=>{Object(S.h)("add_account_click",null,this.props.container),this.props.container===u.a.ACCOUNT_SWITCHER_MODAL&&this.props.showLogin?this.props.showLogin():this.setState({showLoginModal:!0})}),y(this,"trackProfileNavigateClick",e=>{Object(x.e)(14),Object(S.h)(`current_profile_${e}_click`,null,this.props.container)}),y(this,"handleSwitch",e=>{this.setState({isLoading:!0}),Object(E.a)(101,{component:13369,element:11196}),Object(S.h)("switch_account_click",{destination_user_id:e.id},this.props.container);const t={get_user:!0,switch_account:e.id};Object(p.a)(t,{container:"account_switcher"},null,!0).then((t={})=>{t.resource_response&&t.resource_response.data&&t.resource_response.data.success?(Object(S.h)("switch_account_success",{destination_user_id:e.id},this.props.container),Object(c.a)(e.partner&&e.partner.is_create?"/":`/${e.username}`)):(Object(S.h)("switch_account_failure",{destination_user_id:e.id},this.props.container),this.setState({failedAccount:e,isLoading:!1}))},t=>{throw Object(S.h)("switch_account_failure",{destination_user_id:e.id},this.props.container),this.setState({isLoading:!1}),t})}),y(this,"handleLinkedAccountSwitch",e=>{if(this.setState({isLoading:!0}),Object(E.a)(101,{component:13369,element:e.partner&&e.partner.isLinkedBusiness?11195:11194}),e.partner&&e.partner.isLinkedBusiness){const t={business_id:e.id,get_user:!0};Object(p.a)(t,{container:"account_switcher"},null,!0).then((t={})=>{const n=new _.c(this.props.requestContext,"biz_growth_biz_hub_redirect_from_home").enabledWithNoActivation()?"/":`/${e.username}`;Object(c.a)(n)},e=>{throw this.setState({isLoading:!1}),e})}else g.a.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(()=>{Object(S.g)(this.props.viewer.id),Object(c.a)(`/${e.username}`)},e=>{throw this.setState({isLoading:!1}),e})}),y(this,"handleCloseModal",()=>this.setState({showLoginModal:!1})),y(this,"handleReauthAccount",()=>{Object(S.h)("switch_failure_prompt.login_click",null,this.props.container),this.setState({failedAccount:null,showLoginModal:!0})}),y(this,"handleRemoveUnauthAccount",e=>{Object(S.h)("switch_failure_prompt.account_removed",{removed_user_id:e},this.props.container),Object(S.g)(e),this.setState({failedAccount:null})}),y(this,"getBusinessAccounts",()=>{const e=this.props,t=e.businessUser,n=e.viewer.partner;return t.data?(n&&n.is_linked_business?t.data.owners:t.data.businesses).reduce((e,t)=>(e[t.id]=Object(f.a)(b.a,!0)(t),t.partner&&t.partner.is_linked_business&&(e[t.id].email=t.partner.biz_ownership_email),e),{}):null}),y(this,"renderAccounts",e=>Object.keys(e).map((t,n)=>o.a.createElement("li",{key:n},o.a.createElement(r.O,{onTouch:()=>{this.handleSwitch(e[t])}},o.a.createElement("div",{className:"AccountSwitcherListItem",style:{height:"auto"}},o.a.createElement(i,{large:!0,account:e[t],viewerId:this.props.viewer.id}))),n!==S.a-2&&o.a.createElement(r.i,null)))),y(this,"renderPinnerButtons",e=>{const t=this.props.onNavigateButtonClick;return o.a.createElement(h.b,{className:"dangerouslyDisableFocusStyle",focusOnBody:!0,to:`/${e}/`},o.a.createElement(r.c,{text:d.a._("View profile","Visit a user profile from account switcher"),accessibilityLabel:d.a._("Go to current profile","Visit a current user profile from account switcher"),size:"sm",color:"red",onClick:()=>{this.trackProfileNavigateClick("button"),t&&t()}}))}),y(this,"renderBusinessButtons",e=>{const t=this.props,n=t.onNavigateButtonClick,a=t.enterProMode;return o.a.createElement(r.b,{display:"flex"},o.a.createElement(r.b,{marginEnd:2},o.a.createElement(h.b,{to:"/business/hub/",onClick:()=>{Object(E.a)(101,{element:11236}),a&&a(),n&&n()}},o.a.createElement(r.c,{key:"biz-hub-button",text:d.a._("Business hub","Link to Business hub from account switcher"),accessibilityLabel:d.a._("Go to Business hub","Visit the Business hub for the current business user"),size:"sm",color:"red"}))),o.a.createElement(h.b,{className:"dangerouslyDisableFocusStyle",focusOnBody:!0,to:`/${e}/`},o.a.createElement(r.c,{text:d.a._("Profile","Visit a user profile from account switcher"),accessibilityLabel:d.a._("Go to current user profile","Visit a current user profile from account switcher"),size:"sm",onClick:()=>{this.trackProfileNavigateClick("button"),n&&n()}})))})}componentDidMount(){this.props.container===u.a.ACCOUNT_SWITCHER_MODAL&&Object(S.h)("modal.shown")}componentWillUnmount(){this.props.container===u.a.ACCOUNT_SWITCHER_MODAL&&Object(S.h)("modal.dismiss")}renderLoadingIndicator(){return this.state.isLoading?o.a.createElement(m.a,null):null}render(){const e=this.props.viewer.partner,t=this.state,n=t.failedAccount,a=t.isLoading,c=t.showLoginModal,u=Object(S.e)(),m=this.getBusinessAccounts(),p=Object.keys(u).length,g=u[this.props.viewer.id];delete u[g.id];const b=g.imageLargeUrl&&!g.imageLargeUrl.includes("static/images/user/default");return o.a.createElement(r.b,{flex:"grow"},c&&o.a.createElement(s.a,{container:this.props.container,onClose:this.handleCloseModal,email:n?n.email:""}),n?o.a.createElement(r.b,{paddingX:4,paddingY:4,flex:"grow"},o.a.createElement(r.b,{marginBottom:3},o.a.createElement(r.J,null,d.a._("Oh no! You're no longer logged into","Full sentence: \"Oh no! You're no longer logged into <user's account>\". Text telling user that they are no longer logged into an account after trying to switch to it"))),o.a.createElement(i,{viewerId:g.id,account:n}),o.a.createElement(r.b,{marginTop:4},o.a.createElement(r.c,{text:d.a._("Log in again","Text on button allowing user to log into an account after failing to switch to that account"),color:"red",onClick:this.handleReauthAccount})),o.a.createElement(r.b,{marginTop:3},o.a.createElement(r.c,{text:d.a._("Remove account","Text on button allowing user to remove an account from their account switcher after failing to switch to it"),onClick:()=>this.handleRemoveUnauthAccount(n.id)}))):o.a.createElement(r.b,null,a&&this.renderLoadingIndicator(),o.a.createElement(r.b,null,o.a.createElement(r.b,{alignItems:"center",direction:"row",display:"flex",marginTop:1,padding:4,position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:1}}},o.a.createElement(r.b,{marginRight:4},o.a.createElement(h.b,{className:"dangerouslyDisableFocusStyle",focusOnBody:!0,to:`/${g.username}/`},o.a.createElement(r.O,{onTouch:()=>this.trackProfileNavigateClick("avatar")},o.a.createElement(r.a,{name:g.fullName||g.username,size:"lg",src:b?g.imageLargeUrl:""})))),o.a.createElement(r.b,{flex:"grow"},o.a.createElement(r.b,{marginBottom:2},o.a.createElement(r.J,{bold:!0,color:"darkGray",size:"md",truncate:!0},g.fullName||g.username),g.email&&o.a.createElement(r.J,{color:"darkGray",size:"md",truncate:!0},g.email)),e?this.renderBusinessButtons(g.username):this.renderPinnerButtons(g.username))),m?o.a.createElement(l,{accounts:m,onClick:this.handleLinkedAccountSwitch}):null,o.a.createElement(r.i,null),e&&e.is_linked_business?null:o.a.createElement(r.b,null,o.a.createElement("ul",null,this.renderAccounts(u)))),p<S.a&&!(e&&e.is_linked_business)&&o.a.createElement(r.b,{paddingX:4,paddingY:3},o.a.createElement(r.c,{text:d.a._("Add account","Short text on the button that allows a user to log in to another Pinterest account"),onClick:()=>this.handleAddAccount()}))))}})},KrKF:function(e,t,n){n.d(t,"b",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u});var a=n("Qo1m"),o=n("PhUE"),r=n("Irlq");n("zlIe");function i(e,t){return e.some(e=>e.id===t.id)}const s=e=>e?Object(r.b)(a.a._("Welcome back, {{ firstName }}!","Header on welcome step of renux"),{firstName:e}):a.a._("Welcome back!","Header on welcome step of renux");function l(e){const t=[];if(e){const n=72e5,a=Date.now()-n;for(const o of e)o.ts>=a&&("string"==typeof o.image_signature&&t.push(o.image_signature),"string"==typeof o.first_pin_image_signature&&t.push(o.first_pin_image_signature))}return t}function c(){return{plpImages:l(o.b.localStorage.getItem("visitedPinLandingPagesBeforeLogin")),blpImages:l(o.b.localStorage.getItem("visitedBoardLandingPagesBeforeLogin"))}}function u(e){return e.url.split("/").pop().replace(/(--.*|\.jpg)$/g,"")}},UY39:function(e,t,n){},V0Gb:function(e,t,n){var a=n("GyhR"),o=n.n(a),r=n("Qo1m"),i=n("+U6O");const s={loadingIndicatorMask:{position:"absolute",backgroundColor:"#fff",top:"0",left:"0",right:"0",bottom:"0",opacity:"0.7",borderRadius:"8px",zIndex:"100"},spinner:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",opacity:"1",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"101"}};t.a=(e=>o.a.createElement("div",null,o.a.createElement("div",{style:s.spinner},o.a.createElement(i.F,{accessibilityLabel:r.a._("Loading"),show:!0})),o.a.createElement("div",{style:s.loadingIndicatorMask})))},dkdd:function(e,t,n){n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var a=n("PhUE");function o(e){const t={};return e.forEach(e=>{const n=a.b.localStorage.getItem(e);n&&("signupInterestsPickerStartTime"===e?t.signupInterestsPickerTimeSpent=Date.now()-n:t[e]=n)}),JSON.stringify(t)}function r(){return o(["signupInterestsPickerScrollDown","signupInterestsPickerStartTime"])}function i(){return o(["signupTriedSkipInputName","signupTriedSkipGender","unauthTopicsFollowed"])}},f5ca:function(e,t,n){n.r(t);n("oiDG");var a=n("XQD6"),o=n("D+W/"),r=n("oFGA"),i=n("/YZq"),s=n("2XPX"),l=n.n(s),c=n("ePT2"),u=n("ggpB"),d=n("q579");const m=i.a.getLogger("AuthHandshake"),p={_parseJson:function(e){return e.json()},_throwError:function(e){const t=new Error(e.statusText);throw t.response=e,p._reconstructError(t),t},_checkStatus:function(e){return 200===e.status||401===e.status?e:(p._throwError(e),{})},_crossDomainRequest:function(e,t,n){if("GET"!==n&&"POST"!==n)return Promise.resolve({});const a={credentials:"include",mode:"cors"};return"POST"===n&&(a.method="POST",a.body=t,a.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":r.a.instance.unauth_id},r.a.instance.unauth_id||Object(u.a)(`unauth.auth_handshake.cross_domain.no_unauth_id.${n}`)),fetch(e,a).then(p._checkStatus).then(p._parseJson).then(e=>"success"===e.status?Promise.resolve(e):e.code===o.a.LOGIN_MFA_REQUIRED?(e.api_error_code=e.code,Promise.reject(e)):(p._throwError(e),{})).catch(e=>{throw e})},_reconstructError:e=>{!e.api_error_code&&e.response&&(e.api_error_code=e.response.code,e.message=e.response.message)},_shouldRedirectToCanonical:function(){const e=o.a.GEN.templateConst.settings.ACCOUNTS_PINTEREST_URL+"/v3/handshake/canonical/";return p._crossDomainRequest(e,"","GET")},_redirectToCanonical:function(){let e="";if(window.location.search){const t=l.a.parse(window.location.search.substring(1));t.originalUrl&&(e=t.originalUrl)}e||(e=window.location.pathname+window.location.search),e.startsWith("/")||(e=`/${e}`);const t=o.a.GEN.templateConst.settings.CANONICAL_MAIN_URL;Object(a.a)(`${t}${e}`)},verifyAndRedirectToCanonical:function(){return p._shouldRedirectToCanonical().then(e=>{e&&e.data&&p._redirectToCanonical()})},_verifyAndGetToken:function(){const e=o.a.GEN.templateConst.settings.ACCOUNTS_PINTEREST_URL+"/v3/handshake/verify/";return p._crossDomainRequest(e,"","GET")},exchangeTokenAndSetSession:function(e,t=!1){return c.a.create("HandshakeSessionResource",{token:e,isRegistration:t}).callCreate()},verifyLoggedInStatus:function(){p._verifyAndGetToken().then(e=>{if(e&&e.data){const t=e.data;p.exchangeTokenAndSetSession(t).then(e=>{window.location.reload()},e=>{m.error("Failed to set session for current user; "+e.message)})}else m.error("No custom access token in cross domain verify response")},e=>{})},_setUpRegisterParameters:function(e){const t={};if(t.email=e.email||"",t.username=e.username||"",t.password=e.password||"",t.first_name=e.first_name||"",t.last_name=e.last_name||"",t.country=e.country||"",t.locale=r.a.instance.locale,t.referrer=r.a.instance.referrer,e.age){const n=new Date;n.setFullYear(n.getFullYear()-e.age);const a=parseInt(n/1e3,10);t.birthday=a.toString()}if(e.custom_gender&&(t.custom_gender=e.custom_gender),e.gender&&(t.gender=e.gender),e.business_name&&(t.account_type=e.account_type,t.business_name=e.business_name,t.first_name=e.business_name),r.a.instance.invite_code&&(t.invite_code=r.a.instance.invite_code),e.facebook_id){const n=r.a.instance.facebook_token||e.facebook_token||"";n||m.debug("Facebook token is not being set during login call."),t.facebook_id=e.facebook_id,t.facebook_token=n,t.social_username=e.social_username||""}else(e.gplus_code||e.gplus_id_token)&&(t.password=e.password||"",t.one_time_code=e.gplus_code,t.id_token=e.gplus_id_token,t.redirect_uri=e.gplus_redirect_uri);return d.a.getQueryStringFromObject(t)},_setUpLoginParameters:function(e){const t={};if(e.username_or_email&&(t.username_or_email=e.username_or_email.trim(),t.password=e.password,t.referrer=r.a.instance.referrer),e.facebook_id){const n=r.a.instance.facebook_token||e.facebook_token||"";n||m.debug("Facebook token is not being set during login call."),t.facebook_id=e.facebook_id,t.facebook_token=n,t.facebook_autologin=e.facebook_autologin||!1}return e.gplus_id_token&&(t.gplus_id_token=e.gplus_id_token,t.gplus_access_token=e.gplus_access_token,t.gplus_expires_at=e.gplus_expires_at,t.gplus_autologin=e.gplus_autologin||!1),e.mfa_token&&(t.mfa_token=e.mfa_token),d.a.getQueryStringFromObject(t)},_getRegisterRequestUrl:function(e){let t="/v3/register/email/handshake/";return e.facebook_id&&(t="/v3/register/facebook/handshake/"),(e.gplus_code||e.gplus_id_token)&&(t="/v3/register/gplus/handshake/"),e.business_name&&(t="/v3/register/partner/handshake/"),o.a.GEN.templateConst.settings.ACCOUNTS_PINTEREST_URL+t},_getLoginRequestUrl:function(e){let t="/v3/login/handshake/";return e.facebook_id&&(t="/v3/login/facebook/handshake/"),e.gplus_id_token&&(t="/v3/login/gplus/handshake/"),e.mfa_token&&(t="/v3/login/mfa/handshake/"),o.a.GEN.templateConst.settings.ACCOUNTS_PINTEREST_URL+t},registerUser:function(e){const t=p._getRegisterRequestUrl(e),n=p._setUpRegisterParameters(e);return p._crossDomainRequest(t,n,"POST")},loginUser:function(e){const t=p._getLoginRequestUrl(e),n=p._setUpLoginParameters(e);return p._crossDomainRequest(t,n,"POST")}};t.default=p},kiCl:function(e,t,n){const a=function(e,t,n){this.type=e,this.target=t,this.currentTarget=t,this.data=n||{},this.stopped=!1};a.prototype.stopPropagation=function(){this.stopped=!0},a.prototype.shouldPropagate=function(){return!this.stopped},t.a=a},kpxY:function(e,t,n){n.d(t,"a",function(){return c});var a=n("GyhR"),o=n.n(a),r=n("Qo1m"),i=n("tbiL"),s=n("+U6O");const l=Object(i.a)({chunkName:()=>"FullPageSignup",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BusinessAccountConvertPageDesktop~BusinessAccountCreatePageDe~1cac07e8"),n.e("BusinessAccountLoginPageDesktop~FullPageSignup~LoginModal~LoginPageDesktop~LoginPageSterling~Persona~ae2b8a99"),n.e("BusinessAccountLoginPageDesktop~FullPageSignup~LoginModal~LoginPageDesktop~LoginPageSterling~UnauthH~0b7a7028"),n.e("FullPageSignup")]).then(n.bind(null,"JpAB")),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"JpAB"}});function c(e){return o.a.createElement(l,Object.assign({},e,{fallback:o.a.createElement(s.b,{display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(s.F,{accessibilityLabel:r.a._("Loading signup form"),show:!0}))}))}},lx8N:function(e,t,n){var a=n("GyhR"),o=n.n(a),r=n("KOHj"),i=n("rBws"),s=n("IItM"),l=n("Qo1m"),c=n("dsfX"),u=n("kIql"),d=n("+U6O"),m=n("9Y9K"),p=n("rlRx"),h=n("Y2BC");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=Object(m.compose)(u.a,Object(h.b)({name:"UserResource",key:"businessUser",options:({viewer:e})=>({username:e.username,field_set_key:"linked_partner"})}))(class extends a.Component{constructor(e){super(e),g(this,"componentDidMount",()=>{Object(p.f)(this.props.viewer,this.props.businessUser.data)}),g(this,"showLogin",()=>this.setState({showLoginModal:!0})),g(this,"hideLogin",()=>this.setState({showLoginModal:!1}));const t=this.props.showAddAccount;this.state={showLoginModal:!!t}}render(){const e=this.props,t=e.customTaglineText,n=e.hideAccountSwitchValueProp,a=e.onDismiss,u=e.showAddAccount,m=e.viewer,p=e.enterProMode;return this.state.showLoginModal?o.a.createElement(i.a,{container:s.a.ACCOUNT_SWITCHER_MODAL,onClose:u?a:this.hideLogin,customTaglineText:t,hideAccountSwitchValueProp:n}):o.a.createElement(d.b,{position:"relative"},o.a.createElement(c.b,{accessibilityModalLabel:l.a._("View, add, and switch logged in users","modal which allows user to add and switch multiple accounts"),size:"sm",heading:l.a._("Switch accounts","Short title on modal that allows a user to switch between different Pinterest accounts"),accessibilityCloseLabel:l.a._("Dismiss selection","Label for dismissing the modal"),onDismiss:a},o.a.createElement(r.a,{container:s.a.ACCOUNT_SWITCHER_MODAL,showLogin:this.showLogin,viewer:m,enterProMode:p})))}})},rBws:function(e,t,n){var a=n("GyhR"),o=n.n(a),r=n("Ivf5"),i=n("kpxY"),s=n("Qo1m"),l=n("plGG"),c=n("hvnN"),u=n.n(c),d=n("ggpB"),m=n("+U6O");const p={mask:{backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},scroller:{WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},modalContainer:{display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},closeButton:{backgroundColor:"Transparent",backgroundRepeat:"no-repeat",border:"none",outline:"none",overflow:"hidden",padding:"10px",position:"fixed",right:"24px",top:"24px"}},h=e=>{const t=e=>{Object(d.a)(`unauth.account_switcher_modal.${e}`)},n=e.renderContent;return o.a.createElement("div",{style:p.mask},o.a.createElement(l.a,{unsafeCSS:"\n.AccountSwitcherModal {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n"}),o.a.createElement("div",{className:"AccountSwitcherModal",onClick:()=>{t("empty_space_click"),(0,e.onCloseClick)()},role:"dialog",style:p.scroller},o.a.createElement("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:p.modalContainer},n(),o.a.createElement("button",{"aria-label":s.a._("close","accessible label for close button"),onClick:()=>{t("close_button_click"),(0,e.onCloseClick)()},style:p.closeButton},o.a.createElement(m.m,{accessibilityLabel:s.a._("close","accessible label for close button"),color:"white",icon:"cancel",inline:!0})))))};h.propTypes={onCloseClick:u.a.func,renderContent:u.a.func.isRequired};var g=h,b=n("73jm");t.a=Object(r.connect)()(e=>a.createElement(g,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>a.createElement(m.b,{display:"flex",justifyContent:"center",flex:"grow"},a.createElement(i.a,{container:e.container,email:e.email,isAccountSwitch:!0,isModal:!0,hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,type:b.b.login,signupSource:b.b.login,customLoginTagline:e.customTaglineText||s.a._("Add account","Short text on the button that allows a user to log in to another Pinterest account")}))}))},rlRx:function(e,t,n){var a=n("D+W/"),o=n("IItM");const r=e=>"undefined"!=typeof window?window.localStorage.getItem(e):null,i=(e,t)=>{"undefined"!=typeof window&&window.localStorage.setItem(e,t)},s={getAccounts:()=>r(a.a.MULTIPLE_ACCOUNTS),getAccountsJSON:()=>s.getAccounts()?JSON.parse(s.getAccounts()):{},getGroupId:()=>{const e=r(a.a.MULTIPLE_ACCOUNTS_GROUP);return e?JSON.parse(e):null},setAccounts:e=>i(a.a.MULTIPLE_ACCOUNTS,e),setGroupId:e=>i(a.a.MULTIPLE_ACCOUNTS_GROUP,JSON.stringify(e))};var l=s,c=n("QzGC"),u=n.n(c),d=n("ggpB");function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return h}),n.d(t,"e",function(){return g}),n.d(t,"d",function(){return b}),n.d(t,"c",function(){return f}),n.d(t,"h",function(){return _}),n.d(t,"b",function(){return x}),n.d(t,"g",function(){return E}),n.d(t,"f",function(){return w});const h=4,g=()=>l.getAccountsJSON(),b=()=>Object.keys(g()).length,f=()=>({[a.a.MULTIPLE_ACCOUNTS]:l.getAccountsJSON(),[a.a.MULTIPLE_ACCOUNTS_GROUP]:l.getGroupId()}),_=(e,t,n)=>{let a=l.getGroupId();a||(a=(()=>{const e=u()();return Object(d.c)("web_account_switcher.utils.group_created",{group_id:e,group_count:b()}),e})(),l.setGroupId(a));const r={group_id:a,group_count:b()};let i="";n&&(i=n===o.a.ACCOUNT_SWITCHER_MODAL?"modal.":"flyout."),Object(d.c)(`web_account_switcher.${i}${e}`,Object.assign({},t,r))},x=(e,t,n)=>{const a=l.getAccountsJSON();a[e.id]=(e=>{const t={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return t.fullName&&t.imageMediumUrl&&t.imageLargeUrl||_("utils.incomplete_user_values"),e.partner&&e.partner.is_create?m({},t,{partner:{is_create:e.partner.is_create}}):t})(e),l.setAccounts(JSON.stringify(a)),t&&n&&_("new_account_add_success",{method:t,user_added:e.id},n)},E=e=>{const t=l.getAccountsJSON();delete t[e],l.setAccounts(JSON.stringify(t))},w=(e,t)=>{if(!(()=>!!l.getAccounts())()||e&&!(e.id in g())){if(e.partner&&e.partner.is_linked_business&&t)return void x(m({},e,{email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""}));x(e)}}},"xd+Y":function(e,t,n){},xjFC:function(e,t,n){},zEno:function(e,t,n){var a=n("GyhR"),o=n.n(a),r=n("Ivf5"),i=(n("UY39"),n("VSY/")),s=n("KrKF"),l=n("pjsG"),c=n("Qo1m"),u=n("7Tih"),d=(n("xjFC"),n("+U6O"));const m=3,p=10,h=["blue","eggplant","green","maroon","midnight","navy","olive","orange","orchid","pine","purple","watermelon"];var g=o.a.memo(function(){const e=function(){const e=[];let t=0;for(let n=0;n<p;n+=1){e.push([]);for(let a=0;a<m;a+=1){const r=h[t];e[n].push(o.a.createElement("div",{key:n+a,className:`NuxEducationLoaderGrid__column${a}`},o.a.createElement(d.b,{color:r,height:155,width:105,dangerouslySetInlineStyle:{__style:{borderRadius:8}}}))),(t+=1)>=h.length&&(t=0)}}return e}();return o.a.createElement("div",{className:"NuxEducationLoaderGrid"},e)});var b=o.a.memo(function({selectedInterest:e}){const t={label:c.a._("Food and Drink","Title for topic"),images:{"400x":{height:561,url:"https://i.pinimg.com/400x/10/31/0a/10310a3d860e8f7f2a5753612a870f5a.jpg",width:400}}},n={},a=e||t,r=a.label,i=a.images["400x"],s=i.url,l=i.height,u=i.width;n.domain=r.trim().toLowerCase().replace(/\s/g,"").concat(".com"),n.imageHeight=l,n.imageWidth=u,n.imageUrl=s;const m=n.domain,p=n.imageUrl,h=n.imageHeight,g=n.imageWidth;return o.a.createElement("div",{className:"NuxEducationLoaderPin","data-test-id":"nux-loader-pin"},o.a.createElement(d.b,{position:"relative"},o.a.createElement("div",{className:"NuxEducationLoaderPin__pinImage"},o.a.createElement(d.t,{shape:"rounded",height:310,width:210},o.a.createElement(d.o,{alt:c.a._("Pin image","Pin image for nux loading step"),color:"darkGray",fit:"cover",naturalHeight:h,naturalWidth:g,src:p})),o.a.createElement(d.b,{position:"absolute",top:!0,right:!0,marginTop:1,marginRight:1},o.a.createElement("div",{className:"NuxEducationLoaderPin__pinSaveButton"},o.a.createElement(d.c,{accessibilityLabel:c.a._("Save button"),color:"red",text:c.a._("Save","save button for nux loading step"),size:"md"}))),o.a.createElement(d.b,{position:"absolute",bottom:!0,left:!0,margin:2,maxWidth:"90%"},o.a.createElement("div",{className:"NuxEducationLoaderPin__pinLinkButton"},o.a.createElement(d.b,{padding:2,color:"lightGray",display:"flex",justifyContent:"between",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderRadius:4}}},o.a.createElement(d.b,null,o.a.createElement(d.m,{icon:"arrow-up-right",accessibilityLabel:c.a._("link","Pin website url link for nux loading step"),size:14,color:"darkGray"})),o.a.createElement(d.b,{marginLeft:2,height:18,flex:"grow",overflow:"hidden"},o.a.createElement(d.J,{bold:!0,size:"sm",truncate:!0},m))))))))});const f={backgroundColor:"#efefef"},_={transition:"width .4s ease-out"};function x(e,t){return Object.assign({},f,{height:e+"px",borderRadius:t})}function E(e,t,n){return Object.assign({},_,{backgroundColor:e,width:t+"%",borderRadius:n})}var w=({color:e="#333",height:t=8,progress:n=0,outerBorderRadius:a="10px",innerBorderRadius:r="inherit"})=>o.a.createElement(d.b,{width:"100%",overflow:"hidden",dangerouslySetInlineStyle:{__style:x(t,a)}},o.a.createElement(d.b,{height:"inherit",dangerouslySetInlineStyle:{__style:E(e,n,r)}})),S=n("ePT2"),y=n("kIql"),O=n("NmcB"),C=n("8Hll"),N=n("zlIe"),k=n("9Y9K");function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=300,T=5100,P=1e3;var L=Object(k.compose)(Object(r.connect)(null,e=>({dispatchSetNuxStepProgress:t=>e(Object(C.a)(t))})),y.a)(class extends a.PureComponent{constructor(...e){super(...e),I(this,"state",{progressPercent:0}),I(this,"incrementStepAndCompleteLoading",()=>{const e=this.props,t=e.incrementNuxStep,n=e.isRenux;t(),n||S.a.create("UserStateResource",{state:N.t,value:N.b}).callCreate()})}componentDidMount(){const e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux;n||S.a.create("UserStateResource",{state:N.t,value:N.y}).callCreate(),t("loader"),Object(O.a)(13,{view:n?213:24,viewParameter:261}),this.intervalId=setInterval(()=>this.setState(e=>({progressPercent:Math.min(e.progressPercent+100/(T/v),100)})),v)}componentDidUpdate(e,t){this.state.progressPercent>=100&&(clearInterval(this.intervalId),setTimeout(this.incrementStepAndCompleteLoading,P))}componentWillUnmount(){clearInterval(this.intervalId)}render(){const e=this.props,t=e.isRenux,n=e.selectedInterests,a=e.showProgressBar,r=this.state.progressPercent;return o.a.createElement("div",{className:"NuxEducationLoader","data-test-id":"nux-complete-loader"},o.a.createElement(d.b,{alignItems:"center",display:"flex",direction:"row",height:"100%",justifyContent:"center",overflow:"hidden",width:"100%"},o.a.createElement(d.b,{position:"relative",marginLeft:10,marginRight:4},o.a.createElement("div",{className:"NuxEducationLoader__loadingCopyContainer"},o.a.createElement(d.l,{size:"sm"},c.a._("All set!","Title for nux loading step")),o.a.createElement(d.b,{marginTop:4},t?c.a._("We're refreshing your home feed with lots of new Pins...","Details for ReNUX loading step"):c.a._("We're building your home feed with lots of Pins...","Details for nux loading step"))),o.a.createElement("div",{className:"NuxEducationLoader__pinEducationCopyContainer"},o.a.createElement(d.l,{size:"sm"},c.a._("Pins are ideas.","Pin education on NUX loading step")),o.a.createElement(d.b,{marginTop:5},c.a._("They are links saved from around the web","Pin education on NUX loading step")))),o.a.createElement(d.b,{marginRight:5,marginLeft:5,width:344},o.a.createElement(g,null)),o.a.createElement(d.b,null,o.a.createElement(b,{selectedInterest:n[0]}))),a?null:o.a.createElement(d.b,{position:"absolute",top:!0,width:"100%"},o.a.createElement(w,{height:8,color:"#e60023",progress:r})))}}),A=n("VLF8"),R=n("FEwd"),j=n("rPo8");function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=Object(r.connect)(null,(e,t)=>({setNuxUpsellProgress:t=>e(Object(j.a)(N.q,t)),dispatchSetNuxStepProgress:t=>e(Object(C.a)(t))}))(class extends a.Component{constructor(...e){super(...e),U(this,"onInstallButtonClicked",()=>{const e=this.props.isRenux;A.a.handleExtensionInstall(this.incrementStepAndCompleteLoading),Object(O.a)(101,{component:17,element:280,view:e?213:24,viewParameter:260})}),U(this,"onSkipButtonClick",()=>{const e=this.props.isRenux;Object(O.a)(101,{component:17,element:1150,view:e?213:24,viewParameter:260}),this.incrementStepAndCompleteLoading()}),U(this,"incrementStepAndCompleteLoading",()=>{const e=this.props,t=e.incrementNuxStep,n=e.isRenux,a=e.setNuxUpsellProgress;n||a(N.b),t()})}componentDidMount(){const e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,a=e.setNuxUpsellProgress;n||a(N.y),t("extension"),Object(O.a)(13,{view:n?213:24,viewParameter:260})}render(){const e=this.props.personalizationCopy,t=e.headerText,n=e.subHeaderText;return o.a.createElement(R.a,{header:t,installClick:this.onInstallButtonClicked,skipClick:this.onSkipButtonClick,subheader:n})}}),D=(n("xd+Y"),n("UmN8")),B=n("k9eC"),F=n("2YES");function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const H=({isChecked:e,label:t,selectGender:n,value:r,isHorizontal:i})=>{let s;switch(t){case N.g:s="end";break;case N.D:s="start";break;default:s="center"}const l=o.a.createElement(d.b,{alignItems:"center",display:"flex","data-test-id":`nux-gender-${t}-label`,height:40,justifyContent:s,width:"calc(800px / 3)"},o.a.createElement(d.p,{htmlFor:t},o.a.createElement(d.b,{alignItems:"center",display:"flex"},o.a.createElement(d.A,{checked:e,id:t,name:"genderOptions",onChange:n,size:"md",value:t}),o.a.createElement(d.b,{marginStart:2,width:t===N.D&&225},r))));return i?l:o.a.createElement(a.Fragment,null,o.a.createElement(d.b,{"data-test-id":`nux-gender-${t}-label`},o.a.createElement(d.p,{htmlFor:t},o.a.createElement("div",{className:"NuxGenderSelector"},o.a.createElement(d.b,{alignItems:"center",display:"flex",flex:"none",paddingX:8,paddingY:6},o.a.createElement(d.A,{checked:e,id:t,name:"genderOptions",onChange:n,size:"md",value:t}),o.a.createElement(d.b,{display:"flex",flex:"grow",marginStart:10},r))))),o.a.createElement(d.i,null))};var z=Object(k.compose)(Object(r.connect)(({viewer:e})=>({gender:e.gender?e.gender:"",customGender:e.customGender?e.customGender:""}),(e,t)=>({dispatchSetNuxStepProgress:t=>e(Object(C.a)(t)),setNuxGenderProgress:t=>e(Object(j.a)(N.s,t)),updateGenderInfo:t=>e(Object(j.f)({updateUserData:t}))})),F.e)(class extends a.PureComponent{constructor(...e){super(...e),M(this,"state",{customGender:this.props.customGender,gender:this.props.gender,showCustomGenderTextfield:this.props.gender===N.D&&this.props.customGender.length>0,showNextButton:[N.k,N.g].includes(this.props.gender)||this.props.customGender.length>0,showCustomGenderDoneButton:this.props.gender===N.D&&this.props.customGender.length>0}),M(this,"setCustomGender",e=>{e.target instanceof HTMLInputElement&&e.target.value.trim().length>0?this.setState({customGender:e.target.value,showCustomGenderDoneButton:!0}):this.state.showNextButton&&e.target instanceof HTMLInputElement?this.setState({customGender:e.target.value,showCustomGenderDoneButton:!1}):this.setState({showCustomGenderDoneButton:!1})}),M(this,"updateCustomGender",({value:e})=>this.setState({customGender:e,showCustomGenderDoneButton:e.length>0})),M(this,"renderOnHomefeed",()=>{const e=this.props.personalizationCopy.headerText,t=this.state,n=t.customGender,r=t.gender,i=t.showCustomGenderDoneButton,s=t.showCustomGenderTextfield;return o.a.createElement(a.Fragment,null,o.a.createElement(d.l,{overflow:"normal",size:"sm"},e),o.a.createElement(d.b,{direction:"column",display:"flex",height:"100%"},o.a.createElement(d.b,{alignItems:"around",display:"flex",height:"100%",marginTop:10},o.a.createElement(H,{isChecked:!s&&r.toLowerCase()===N.g,label:N.g,selectGender:()=>this.onSelectGender(N.g),value:this.renderGenderLabel(c.a._("Female"),!0),isHorizontal:!0}),o.a.createElement(H,{isChecked:!s&&r.toLowerCase()===N.k,label:N.k,selectGender:()=>this.onSelectGender(N.k),value:this.renderGenderLabel(c.a._("Male"),!0),isHorizontal:!0}),o.a.createElement(H,{isChecked:s,label:N.D,selectGender:()=>this.onSelectGender(N.D),value:s?o.a.createElement(d.b,{"data-test-id":"nux-gender-unspecified-input"},o.a.createElement(d.L,{id:"customGender",onChange:this.updateCustomGender,placeholder:c.a._("Enter custom gender","placeholder text for custom gender text field"),type:"text",value:n})):this.renderGenderLabel(c.a._("Non-binary","Non-binary label for custom gender"),!0),isHorizontal:!0})),i&&o.a.createElement(d.b,{"data-test-id":"nux-gender-unspecified-done-btn"},o.a.createElement(d.c,{color:"red",disabled:!r&&!n,inline:!0,onClick:()=>this.updateGenderCompleteStep(),text:c.a._("Done","button text for entering a custom gender type")}))))})}componentDidMount(){const e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,a=e.setNuxGenderProgress;t("gender"),n||a(N.y),Object(O.a)(13,{view:n?213:24,viewParameter:3120})}onSelectGender(e){const t=this.props.requestContext,n=this.state,a=n.showCustomGenderTextfield;n.showNextButton?this.setState({gender:e,showCustomGenderTextfield:e===N.D}):e===N.D&&new B.c(t,"web_hide_custom_gender_field").enabled()?this.setState({gender:N.D,showCustomGenderTextfield:!1},this.updateGenderCompleteStep):e===N.D||a?this.setState({gender:N.D,customGender:"",showCustomGenderTextfield:!a,showCustomGenderDoneButton:!1}):this.setState({gender:e},this.updateGenderCompleteStep)}setUserStateCompletedGenderStep(){const e=this.props,t=e.isRenux,n=e.setNuxGenderProgress;t||n(N.b)}updateGenderCompleteStep(){const e=this.props,t=e.incrementNuxStep,n=e.isRenux,a=e.updateGenderInfo,o=this.state,r=o.customGender,i=o.gender;a(o.showCustomGenderTextfield?{gender:N.D,custom_gender:r.slice(0,30)}:{gender:i}).then(()=>{this.setUserStateCompletedGenderStep(),Object(O.a)(101,{component:17,element:241,view:n?213:24,viewParameter:3120}),t()})}submitHandler(e){e.preventDefault()}renderGenderLabel(e,t){return t?o.a.createElement(d.J,{size:"xl"},e):o.a.createElement(d.l,{size:"sm"},e)}render(){const e=this.props,t=e.isRenux,n=e.personalizationCopy,r=n.headerText,i=n.subHeaderText,s=this.state,l=s.customGender,u=s.showCustomGenderDoneButton,m=s.showCustomGenderTextfield,p=s.showNextButton,h=m?o.a.createElement(a.Fragment,null,o.a.createElement(d.b,{marginEnd:5},o.a.createElement("input",{className:"NuxGenderSelector","data-test-id":"nux-gender-unspecified-input",id:"customGender",onChange:this.setCustomGender,placeholder:l||c.a._("Enter custom gender","placeholder text for custom gender text field"),style:u?N.j:N.i,type:"text"})),!p&&u&&o.a.createElement("div",{"data-test-id":"nux-gender-unspecified-done-btn"},o.a.createElement(d.c,{color:"red",inline:!0,onClick:()=>this.updateGenderCompleteStep(),text:c.a._("Done","button text for entering a custom gender type")}))):this.renderGenderLabel(c.a._("Non-binary","Non-binary label for custom gender"));return o.a.createElement(D.a,{name:"web_homefeed_nux",activate:!1},({anyEnabled:e})=>e?this.renderOnHomefeed():o.a.createElement(d.b,{display:"flex",direction:"column",height:"100%",justifyContent:"around",paddingY:8,width:"100%"},o.a.createElement(d.b,{direction:"column",display:"flex",paddingX:8,dangerouslySetInlineStyle:{__style:{textAlign:"center"}}},o.a.createElement(d.l,{size:t?"xs":"sm"},r),t&&o.a.createElement(d.J,{align:"center",size:"xl"},i)),o.a.createElement(d.b,null,o.a.createElement(d.i,null),o.a.createElement(H,{isChecked:!m&&this.state.gender.toLowerCase()===N.g,label:N.g,selectGender:()=>this.onSelectGender(N.g),value:this.renderGenderLabel(c.a._("Female"))}),o.a.createElement(H,{isChecked:!m&&this.state.gender.toLowerCase()===N.k,label:N.k,selectGender:()=>this.onSelectGender(N.k),value:this.renderGenderLabel(c.a._("Male"))}),o.a.createElement(H,{isChecked:m,label:N.D,selectGender:()=>this.onSelectGender(N.D),value:h})),p&&o.a.createElement(d.b,{"data-test-id":"nux_gender_next_btn",marginTop:8,marginStart:8,marginEnd:8},o.a.createElement(d.c,{accessibilityLabel:c.a._("Next","go to next nux step"),color:"red",disabled:m&&0===this.state.customGender.length,onClick:()=>this.updateGenderCompleteStep(),text:c.a._("Next","next nux step button"),type:"button"}))))}}),W=n("kiCl");function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Y extends a.Component{constructor(...e){super(...e),$(this,"state",{focused:!1,errorIsOpen:!1}),$(this,"handleOnChange",e=>{this.props.onChange({event:e,value:e.target.value})}),$(this,"handleBlur",()=>{this.props.errorMessage&&this.setState({errorIsOpen:!1})}),$(this,"handleFocus",()=>{this.props.errorMessage&&this.setState({errorIsOpen:!0})})}static getDerivedStateFromProps(e,t){return e.errorMessage!==t.errorMessage?{errorIsOpen:!!e.errorMessage,errorMessage:e.errorMessage}:null}render(){const e=this.props,t=e.id,n=e.name,o=e.options,r=e.value;return a.createElement(d.b,{alignItems:"center",display:"flex",position:"relative"},a.createElement(d.b,{alignItems:"center",bottom:!0,color:"white",display:"flex",position:"absolute",dangerouslySetInlineStyle:{__style:{margin:"1px",paddingRight:"31px",paddingLeft:"15px",pointerEvents:"none"}},right:!0,shape:"rounded",top:!0},a.createElement(d.m,{icon:"arrow-down",size:24,color:"darkGray",accessibilityLabel:""})),a.createElement("select",{id:t,name:n,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleOnChange,ref:e=>{this.select=e},value:r,style:{backgroundColor:"white",border:"1px solid #979797",borderRadius:8,cursor:"pointer",height:68,fontSize:20,paddingLeft:32,width:"100%",WebkitAppearance:"none",MozAppearance:"none"}},o.map(e=>a.createElement("option",{key:e.value,value:e.value},e.label))))}}$(Y,"defaultProps",{options:[]});var q=e=>{const t=e.defaultOptions,n=e.id,a=e.items,r=e.name,i=e.onChange,s=e.value,l=(a.data||t||[]).sort((e,t)=>e.name.localeCompare(t.name)).map(({name:e,key:t})=>({label:e.toString(),value:t}));return o.a.createElement(Y,{id:n,name:r,onChange:i,options:l,value:s})},J=n("Y2BC"),X=Object(J.b)({name:"CountriesResource",key:"items"})(q),V=Object(J.b)({name:"LocalesResource",key:"items"})(q),K=n("hvnN"),Q=n.n(K),Z=n("PhUE");function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class te extends a.PureComponent{constructor(...e){super(...e),ee(this,"state",{locale:this.props.reduxLocale||(this.context||{}).locale||N.d,country:this.props.reduxCountry||(this.context||{}).country||N.c,swappingLanguage:!1}),ee(this,"onNextButtonClick",()=>{const e=this.props,t=e.incrementNuxStep,n=e.isRenux,a=e.updateUserInfo,o=e.setNuxLocaleProgress,r=this.state;a({updateUserData:{country:r.country,locale:r.locale}}).then(()=>{n||o(N.b),Object(O.a)(101,{component:17,element:10374,view:24,viewParameter:3139}),t()})}),ee(this,"updateLocale",({value:e})=>this.setState({locale:e})),ee(this,"updateCountry",({value:e})=>this.setState({country:e})),ee(this,"renderOnHomefeed",()=>{const e=this.props.personalizationCopy.headerText,t=this.state,n=t.country,r=t.locale,i=t.swappingLanguage;return o.a.createElement(a.Fragment,null,o.a.createElement(d.l,{size:"sm",overflow:"normal"},e),o.a.createElement(d.b,{display:"flex",justifyContent:"center",marginBottom:10,marginTop:5},o.a.createElement(d.b,{"data-test-id":"nux-locale-select",marginRight:3,width:350},o.a.createElement(V,{id:"newUserLanguage",name:"locale",onChange:this.updateLocale,value:r})),o.a.createElement(d.b,{"data-test-id":"nux-country-select",marginLeft:3,width:350},o.a.createElement(X,{id:"newUserCountry",name:"country",onChange:this.updateCountry,value:n}))),o.a.createElement(d.b,{"data-test-id":"nux-locale-country-next-btn",direction:"column",display:"flex",flex:"grow",justifyContent:"center",padding:1},o.a.createElement(d.c,{size:"lg",color:"red",text:c.a._("Next","go to next step"),onClick:this.onNextButtonClick,type:"submit",disabled:i})))})}componentDidMount(){const e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,a=e.setNuxLocaleProgress;n||a(N.y),t("country"),Z.b.localStorage.getItem("signupUserLocale")||Z.b.localStorage.getItem("signupUserCountry")||Object(O.a)(13,{view:24,viewParameter:3139})}componentDidUpdate(e,t){const n=this.props,a=n.toggleLoadingIndicator,o=n.isBizNux,r=n.updateUserInfo,i=t.country,s=t.locale,c=this.state,d=c.country,m=c.locale,p=i!==d,h=s!==m;(p||h)&&r({updateUserData:{country:d,locale:m}}).then(()=>{if(p&&Z.b.localStorage.setItem("signupUserCountry",d),h){Z.b.localStorage.setItem("signupUserLocale",m);const e=new u.a;e.evt=new W.a("",null,{forceRefresh:1}),o?this.setState({swappingLanguage:!0}):a(!0),l.default.navigate("/",e)}})}render(){const e=this.props.personalizationCopy.headerText,t=this.state,n=t.country,a=t.locale,r=t.swappingLanguage;return o.a.createElement(D.a,{name:"web_homefeed_nux",activate:!1},({anyEnabled:t})=>t?this.renderOnHomefeed():o.a.createElement(d.b,{display:"flex",direction:"column",height:"100%",padding:8,width:"100%"},o.a.createElement(d.b,{alignItems:"center",dangerouslySetInlineStyle:{__style:{textAlign:"center"}},display:"flex",direction:"column",flex:"grow",justifyContent:"around",marginBottom:8},o.a.createElement(d.b,{width:"100%"},o.a.createElement(d.l,{size:"sm"},e)),o.a.createElement(d.b,{width:"100%"},o.a.createElement(d.b,{"data-test-id":"nux-locale-select"},o.a.createElement(V,{id:"newUserLanguage",name:"locale",onChange:this.updateLocale,value:a})),o.a.createElement(d.b,{marginTop:4,"data-test-id":"nux-country-select"},o.a.createElement(X,{id:"newUserCountry",name:"country",onChange:this.updateCountry,value:n})))),o.a.createElement(d.b,{bottom:!0,"data-test-id":"nux-locale-country-next-btn"},o.a.createElement(d.c,{size:"lg",color:"red",text:c.a._("Next","go to next step"),onClick:this.onNextButtonClick,type:"submit",disabled:r}))))}}te.contextTypes={country:Q.a.string,locale:Q.a.string};var ne=Object(r.connect)(({viewer:e})=>({reduxCountry:e.country?e.country:"",reduxLocale:e.locale?e.locale:""}),(e,t)=>({updateUserInfo:t=>e(Object(j.f)(t)),setNuxLocaleProgress:t=>e(Object(j.a)(N.r,t)),dispatchSetNuxStepProgress:t=>e(Object(C.a)(t))}))(te),ae=n("dg2R"),oe=n("V0Gb");var re=({nuxStepIndex:e,showCounter:t,numSteps:n})=>t&&n>1?o.a.createElement(d.b,null,o.a.createElement(d.J,{size:"md"},Object(i.i)(c.a._("Step {{current}} of {{total}}"),{current:`${e+1}`,total:`${n}`}))):null;const ie=40,se="10px",le="15px",ce="30px",ue="45px",de="85px",me=(e,t,n,a,r)=>o.a.createElement(d.b,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",margin:2,width:t},o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{marginTop:n===se?"3px":"0px"}},"data-test-id":"nux-toc-dot",color:e,height:n,shape:"circle",width:n}),a&&o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{whiteSpace:r?"nowrap":"",marginTop:n===se?"6px":"4px"}},"data-test-id":"nux-toc-text",display:"flex",wrap:!0},o.a.createElement(d.J,{align:"center",bold:!0,color:e,size:"sm"},a))),pe="M24 12a2 2 0 0 1-2 2H7.676l4.631 4.586a2 2 0 1 1-2.829 2.828L0 12l9.478-9.414a2 2 0 0 1 2.829 2.828L7.676 10H22a2 2 0 0 1 2 2";var he=o.a.memo(function({renderType:e,currentNuxStep:t,steps:n,onPrevStepClick:a}){const r=n.map(e=>e.moduleName),i=r.indexOf(t.moduleName),s=i>1&&o.a.createElement(D.a,{name:"web_nux_back_button"},({anyEnabled:e})=>e&&o.a.createElement(d.b,{display:"flex",alignItems:"center"},o.a.createElement(d.n,{accessibilityLabel:c.a._("Go back to previous step","Accessibility label on NUX back button"),dangerouslySetSvgPath:{__path:pe},iconColor:"gray",size:"sm",onClick:a})));if(n.length>1)return o.a.createElement(d.b,{"data-test-id":"nux-toc-container",display:"flex",justifyContent:"between",padding:4},o.a.createElement(d.b,{width:ie},s),o.a.createElement(d.b,{display:"flex",justifyContent:"center"},n.map((n,a)=>o.a.createElement("div",{key:a},function(n){const a=r.indexOf(n.moduleName)>i,o=a?"darkGray":"red",s=a?se:le;let l="",u=ce,d=!1;if("single"===e){u=ue,d=!0;const e=n.moduleName===t.moduleName,a={NuxGenderStep:c.a._("You","Label for NUX gender step in a table of contents"),NuxLocaleCountryStep:c.a._("Your Language","Label for NUX language/locale step in a table of contents"),NuxPicker:c.a._("Your Interests","Label for NUX topic picker in a table of contents"),NuxExtensionUpsell:c.a._("Your Browser","Label for NUX Browser Extension in a table of contents")};l=e?a[n.moduleName]:""}return"all"===e&&(u=de,l={NuxGenderStep:c.a._("You","Label for NUX gender step in a table of contents, where text should be short since there is not much space to show it"),NuxLocaleCountryStep:c.a._("Language","Label for NUX language/locale step in a table of contents, where text should be short since there is not much space to show it"),NuxPicker:c.a._("Interests","Label for NUX topic picker in a table of contents, where text should be short since there is not much space to show it"),NuxExtensionUpsell:c.a._("Extension","Label for NUX Browser Extension in a table of contents, where text should be short since there is not much space to show it")}[n.moduleName]||""),me(o,u,s,l,d)}(n)))),o.a.createElement(d.b,{width:ie}))});function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const be=640,fe=544,_e=800,xe=["NuxDismissableWelcome","NuxWelcomeNameStep","NuxAboutYouStep","NuxGenderStep","NuxLocaleCountryStep"],Ee=110,we=280,Se=575;var ye=class extends a.PureComponent{constructor(...e){super(...e),ge(this,"state",{animateIn:!0}),ge(this,"runAnimation",()=>{window.setTimeout(()=>this.setState({animateIn:!1}),200)}),ge(this,"renderOnHomefeed",()=>{const e=this.props,t=e.children,n=e.nuxStep,r=e.steps,i=e.isLoading,s=e.onPrevStepClick,l=this.state.animateIn,c=["NuxPicker","NuxEducationLoader"].includes(n.moduleName)&&!i?Se:we,u="NuxEducationLoader"===n.moduleName||r.length<=1;return o.a.createElement(a.Fragment,null,o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{background:"rgba(255, 255, 255, 0.8)",top:-104,zIndex:999}},height:64,position:"absolute",width:"100%"}),o.a.createElement(d.b,{color:"white",dangerouslySetInlineStyle:{__style:{margin:"40px 40px 16px",opacity:l?0:1,transition:"height .1s, opacity .1s ease-in .1s",textAlign:"center"}},height:l?0:c,overflow:"scroll"},o.a.createElement(d.b,{alignItems:"center",direction:"column",display:"flex",height:"100%",minWidth:N.m,position:"relative"},!u&&o.a.createElement(he,{currentNuxStep:n,onPrevStepClick:s,renderType:"dots",steps:r,inHomefeedExp:!0}),t)),o.a.createElement(d.q,null,o.a.createElement(d.b,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{opacity:.8,top:c+Ee,transition:"height .1s linear .1s"}},height:l?0:"100%",position:"absolute",left:!0,right:!0})),i&&o.a.createElement(d.q,null,o.a.createElement(d.b,{bottom:!0,dangerouslySetInlineStyle:{__style:{zIndex:999}},height:"100vh",left:!0,position:"absolute",right:!0,top:!0},o.a.createElement(oe.a,null))))})}componentDidMount(){const e=this.props,t=e.isRenux,n=e.isSimpleRenux,a=e.requestContext;document.body&&(document.body.style.overflow="hidden");const o=new B.c(a,"web_renux_moving_bg_pins");t&&!n&&o.enabled()&&(this.windowScrollInterval=window.setInterval(()=>{window.scrollBy(0,1)},50),this.windowScrollTimer=window.setTimeout(()=>{window.clearInterval(this.windowScrollInterval)},12e4)),ae.b.pause(),this.runAnimation()}componentDidUpdate(){this.runAnimation()}componentWillUnmount(){this.windowScrollInterval&&window.clearInterval(this.windowScrollInterval),this.windowScrollTimer&&window.clearTimeout(this.windowScrollTimer),document.body&&(document.body.style.overflow=""),ae.b.resume()}render(){const e=this.props,t=e.children,n=e.displayHide,r=e.onHide,i=e.onPrevStepClick,s=e.nuxStep,l=e.steps,u=e.isLoading,m=e.showCounter,p=e.showTableContents,h=l.map(e=>e.moduleName).indexOf(s.moduleName);return o.a.createElement(D.a,{name:"web_homefeed_nux",activate:!1},({anyEnabled:e})=>e?this.renderOnHomefeed():o.a.createElement(d.q,null,o.a.createElement(d.b,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",zIndex:"999"}},display:"flex",height:"100vh",justifyContent:"center",overflow:"scroll",position:"fixed",width:"100vw",top:!0},o.a.createElement(d.b,{color:"white",dangerouslySetInlineStyle:{__style:{transition:xe.includes(s.moduleName)?"":"width 0.5s"}},direction:"column",display:"flex",height:be,position:"relative",shape:"rounded",width:xe.includes(s.moduleName)?fe:_e},u&&o.a.createElement(oe.a,null),p&&o.a.createElement(a.Fragment,null,o.a.createElement(he,{currentNuxStep:s,onPrevStepClick:i,renderType:"dots",steps:l}),o.a.createElement(d.i,null)),o.a.createElement(d.b,{flex:"grow",height:"100%",width:"100%"},t),o.a.createElement(d.b,{position:"absolute",marginEnd:8,marginTop:8,right:!0,top:!0},o.a.createElement(re,{nuxStepIndex:h,showCounter:m,numSteps:l.length}),n&&r&&o.a.createElement(d.n,{accessibilityLabel:c.a._("cancel","close nux modal"),icon:"cancel",onClick:r,size:"sm"}))))))}},Oe=n("dkdd");function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ne=1500,ke=`Flyout_Fade ${Ne/1e3}s ease-in-out`,Ie=297,ve=45,Te=`Header_Highlight ${Ne/1e3}s ease-in-out`,Pe=28,Le=()=>"\n@keyframes Header_Highlight {\n  0% { transform: scale(1.0); opacity: 0 }\n  15% { transform: scale(1.2); opacity: 1 }\n  22% { transform: scale(1.1); opacity: 1 }\n  85% { transform: scale(1.1); opacity: 1 }\n  100% { transform: scale(1.0); opacity: 0 }\n}\n@keyframes Flyout_Fade {\n  0% { transform: translateY(40px); opacity: 0 }\n  22% { transform: translateY(10px); opacity: 1 }\n  85% { transform: translateY(10px); opacity: 1 }\n  100% { transform: translateY(40px); opacity: 0 }\n}\n";var Ae=Object(r.connect)(({viewer:e})=>({name:e.firstName||""}))(class extends a.Component{constructor(...e){super(...e),Ce(this,"state",{showFlyout:!1}),Ce(this,"iconRef",o.a.createRef())}componentDidMount(){const e=this.props,t=e.item,n=e.onComplete;this.setState({showFlyout:"home"===t}),this.dismissTimeout=setTimeout(()=>{n()},Ne)}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}render(){const e=this.props,t=e.height,n=e.interests,a=e.isSmall,r=e.item,i=e.left,s=e.name,l=e.top,u=e.width,m=this.state.showFlyout;return o.a.createElement(d.b,{bottom:!0,left:!0,position:"fixed",right:!0,top:!0},o.a.createElement("style",{dangerouslySetInnerHTML:{__html:Le()}}),o.a.createElement(d.b,{alignItems:"center",color:"white",dangerouslySetInlineStyle:{__style:{animation:Te,WebkitAnimation:Te,left:i,top:l}},display:"flex",height:t,justifyContent:"center",padding:2,position:"absolute",ref:this.iconRef,shape:a?"circle":"pill",width:u},"home"===r&&a&&o.a.createElement(d.m,{accessibilityLabel:c.a._("Home","Header logo label"),color:"red",icon:"pinterest",size:Pe}),"profile"===r&&o.a.createElement(d.a,{name:s,size:"sm",src:""}),!a&&o.a.createElement(d.b,{color:"white",paddingX:2,paddingY:1},o.a.createElement(d.J,{bold:!0,color:"home"===r?"darkGray":"gray",overflow:"normal"},"home"===r?c.a._("Home","Header home tab label"):s))),m&&o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{animation:ke,WebkitAnimation:ke}}},o.a.createElement(d.j,{anchor:this.iconRef.current,idealDirection:"down",onDismiss:()=>void 0,size:Ie},o.a.createElement(d.b,{alignItems:"center",display:"flex",justifyContent:"center",padding:4,wrap:!0},!!n&&n.map(e=>o.a.createElement("div",{key:e.id},o.a.createElement(d.b,{margin:1},o.a.createElement(d.t,{height:ve,shape:"rounded",width:ve},o.a.createElement(d.o,{alt:e.label,color:e.background_color,naturalHeight:e.images["400x"].height,naturalWidth:e.images["400x"].width,src:e.images["400x"].url})))))))))}}),Re=n("POeB"),je=n("yxuo");var Ue=Object(F.e)(e=>{const t=e.requestContext,n=e.interests,a=e.InterestComponentToRender,r=e.gridContainerRef,i=n&&n.length<1,s=N.l.DESKTOP,l=new B.b(t,"web_nux_picker_hover_state"),u=l.check("enabled_border")||l.check("employees")?8:0;return o.a.createElement("div",{style:s.STYLES},o.a.createElement(d.u,{columnWidth:s.COLUMN_WIDTH+u,comp:a,loadItems:()=>{},gutterWidth:s.GUTTER_WIDTH-u,items:n,minCols:s.COLUMNS,scrollContainer:()=>r||window}),o.a.createElement(d.F,{accessibilityLabel:c.a._("Loading topics"),show:i}))}),Ge=n("x0Vy");var De=e=>{const t=e.interests,n=e.handleInterestClickFn,a=e.interestFlipMessages,r=e.interestsToFlip;return o.a.createElement(Ue,Object.assign({},e,{InterestComponentToRender:({itemIdx:e,data:i})=>{const s={clickHandler:n(i),interest:i,key:i.id,isSelected:i.is_followed,flipText:a[i.id]||"",shouldFlip:r.has(i.id)};return t.length>0&&Z.b.localStorage.setItem("signupInterestsPickerStartTime",Date.now()),o.a.createElement(Ge.a,s)}}))},Be=n("IO+S");var Fe=e=>{const t=e.categories,n=e.handleInterestClickFn,a=e.interestFlipMessages,r=e.interestsToFlip;return o.a.createElement(d.b,{display:"flex",direction:"row",justifyContent:"between",wrap:!0,paddingX:8},t.map(e=>o.a.createElement(d.b,{key:e.title,paddingY:1},o.a.createElement(d.J,{size:"xl",bold:!0},e.title),o.a.createElement(d.b,{direction:"row",display:"flex",justifyContent:"between"},e.interests.map(e=>{const t={clickHandler:n(e),interest:e,key:e.id,isSelected:e.is_followed,isCategorized:!0,flipText:a[e.id]||"",shouldFlip:r.has(e.id)};return o.a.createElement(d.b,{key:e.id,padding:1},o.a.createElement(Ge.a,t))})))))};const Me=n.n(Be)()(()=>{Z.b.localStorage.setItem("signupInterestsPickerScrollDown",!0)});var He=class extends o.a.Component{constructor(...e){var t,n,a;super(...e),a=(()=>{const e=this.gridContainer.scrollTop===this.gridContainer.scrollHeight-this.gridContainer.offsetHeight;Me(),this.props.handleBottomScroll(e)}),(n="handleScroll")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}render(){const e=this.props,t=e.categorized,n=e.categoryProps,a=e.handleBottomScroll,r=e.handleInterestClickFn,i=e.interests,s=e.showTableOfContents,l=e.interestFlipMessages,u=e.interestsToFlip;let m=o.a.createElement(De,{gridContainerRef:this.gridContainer,handleBottomScroll:a,handleInterestClickFn:r,interests:i,showTableOfContents:s,interestFlipMessages:l,interestsToFlip:u});return t&&n.categories&&(m=o.a.createElement(Fe,Object.assign({},this.props,n))),o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{paddingBottom:!t&&"40px"}},height:s?"280px":"368px",flex:"grow",overflow:"scrollY",width:"800px"},o.a.createElement("div",{onScroll:this.handleScroll,ref:e=>{this.gridContainer=e}},i.length>0?m:o.a.createElement(d.F,{accessibilityLabel:c.a._("Loading default interests"),show:!0})))}},ze=n("q579"),We=n("p968"),$e=n("yINQ");function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){qe(e,t,n[t])})}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(){const e=1e3*function(e,t){const n=t-e;return e+Math.floor(Math.random()*n)}(20,90),t=c.a.getLocaleData().locale,n=Object(We.d)(t,e,{shortform:!0});return function(e){const t=e.length;return e[Math.floor(Math.random()*t)]}([Object(i.i)(c.a.ngettext("{{ formattedNumber }} person collecting ideas about","{{ formattedNumber }} people collecting ideas about",e,"How many people collect ideas about an interest, where interest name is shown underneath this text, and number is formatted in a short form such as 10K or 1万 instead of 10000 when applicable to the locale"),{formattedNumber:n}),Object(i.i)(c.a.ngettext("{{ formattedNumber }} person saving ideas about","{{ formattedNumber }} people saving ideas about",e,"How many people save ideas about an interest, where interest name is shown underneath this text, and number is formatted in a short form such as 10K or 1万 instead of 10000 when applicable to the locale"),{formattedNumber:n}),Object(i.i)(c.a.ngettext("{{ formattedNumber }} person sharing ideas about","{{ formattedNumber }} people sharing ideas about",e,"How many people share ideas about an interest, where interest name is shown underneath this text, and number is formatted in a short form such as 10K or 1万 instead of 10000 when applicable to the locale"),{formattedNumber:n})])}class Xe extends a.Component{constructor(...e){super(...e),qe(this,"state",{defaultInterests:[],categoryProps:{},contextualMap:{},addedContextualTopics:{},interestFlipMessages:{},interestsToFlip:new Set}),qe(this,"calculateCategories",()=>{const e={},t=this.getInterestsWithUpdatedIsFollowed(),n=this.handleInterestClickFn;t.forEach(t=>{const n=t.nux_category||"";Object.keys(e).includes(n)?e[n].push(t):e[n]=[t]});const a=[];if(Object.keys(e).forEach(t=>{a.push({title:t,interests:e[t]})}),6===a.length){for(const e of a)if(""===e.title||!e.interests||3!==e.interests.length)return;this.setState({categoryProps:{categories:a,handleInterestClickFn:n}})}}),qe(this,"handleInterestClickFn",e=>()=>{const t=this.props,n=t.selectedInterests,a=t.onSelectedInterestsChange,o=t.inDynamicExp,r=!Object(s.b)(n,e);a([e],r),this.logInterestClick(r),this.setState({interestsToFlip:new Set([e.id])}),o&&this.contextualUpdateInterests({[e.id]:""})}),qe(this,"logInterestClick",e=>{const t=this.props.isRenux,n=e?1030:1151;Object(O.a)(101,{component:36,element:n,view:t?213:24,viewParameter:172})}),qe(this,"componentName",N.u),qe(this,"recordRenderLogToServer",()=>{const e=this.renderTimers.pop();e.end(),je.default.logToServer(je.default.SERVER_LOG_TYPE.RENDER_TIME,je.default.HTTP_METHOD.POST,{timing:e.getCompletedTime(),component:this.componentName})}),qe(this,"renderTimers",[])}getExtraImageSignal(){const e=Object(s.a)(),t=e.plpImages,n=e.blpImages,a=this.props,o=a.mostRecentPinImages,r=a.plpEnabledGroup,i=a.plpActivate,l=t.concat(n);return o.length>0&&(i&&i(),r)?o.concat(l):l}componentDidMount(){const e=this.props,t=e.isRenux,n=e.isSimpleRenux,a=e.selectedInterests,o=e.limited,r=e.inDynamicExp,i=S.a.create("NuxInterestsResource",{is_renux:t,logNetworkTimer:!0,loggerComponentName:N.u,extraImageSignal:this.getExtraImageSignal(),hideFollowedInterests:t&&!n,limited:o,urlParams:ze.a.getQueryStringParams()}).callGet({showError:!1},{retries:1}).then(e=>{if(e.resource_response&&e.resource_response.data){this.logSignupTiming();const t=this.mapInterests(a,e.resource_response.data);this.setState({defaultInterests:t}),this.getInterestsWithUpdatedIsFollowed().length>0&&this.calculateCategories()}}).catch(e=>{Re.default&&Re.default.showError(e.message||c.a._("Unable to load topics","Error message when failed to load topics."))});let s=Promise.resolve(!0);if(r){s=S.a.create("NuxContextualInterestsResource").callGet({showError:!1},{retries:1}).then(e=>{if(e.resource_response&&e.resource_response.data){const t=e.resource_response.data;for(const e of Object.keys(t))t[e]=this.mapInterests([],t[e]);this.setState({contextualMap:e.resource_response.data})}}).catch(e=>{Re.default&&Re.default.showError(e.message||c.a._("Unable to load contextual topics","Error message when failed to get contextual topics."))})}Promise.all([i,s]).then(()=>{const e=this.state,t=e.contextualMap,n=e.defaultInterests,a=e.interestFlipMessages;let o={};n.forEach(e=>{!0===e.is_followed&&(o=Ye({},o,{[e.id]:""}))}),Object.keys(o).length>0&&this.contextualUpdateInterests(o);const r=Ye({},a);n.forEach(e=>{a[e.id]||(r[e.id]=Je())}),Object.keys(t).forEach(e=>{(t[e]||[]).forEach(e=>{r[e.id]||(r[e.id]=Je())})}),this.setState({interestsToFlip:new Set(Object.keys(o)),interestFlipMessages:r})})}UNSAFE_componentWillUpdate(e,t){this.state.defaultInterests!==t.defaultInterests&&this.renderTimers.unshift((new $e.a).start())}componentDidUpdate(e,t){const n=this.state.defaultInterests;n!==t.defaultInterests&&(this.renderTimers.length&&this.recordRenderLogToServer(),this.calculateCategories()),n.length>0&&0===t.defaultInterests.length&&this.props.preselect&&this.preselectInterests()}getInterestsWithUpdatedIsFollowed(){const e=this.props.selectedInterests;return this.state.defaultInterests.map(t=>(t.is_followed=Object(s.b)(e,t),t))}logSignupTiming(){const e=Z.b.localStorage.getItem("signupTime");if(e){const t=Date.now()-e;t<N.z&&je.default.logToServer(je.default.SERVER_LOG_TYPE.SIGNUP_LOAD,je.default.HTTP_METHOD.POST,{timing:t,component:"nux"}),Z.b.localStorage.removeItem("signupTime")}}mapInterests(e,t){const n=this.props,a=n.anyEnabledForPreselectExp,o=n.customActivateForPreselectExp,r=t.map(e=>{const t=e.log_data,n=JSON.parse(t);return n&&"viewed_recs"===n.source&&0===n.pos&&(o&&o(),a&&(e.is_followed=!0)),Ye({},e,{label:e.name})});this.props.onSelectedInterestsChange(r.filter(e=>e.is_followed),!0);const i=new Set(e.map(e=>e.id)),s=r.filter(e=>!i.has(e.id));return e.concat(s)}preselectInterests(){const e=this.props,t=e.numberToFollow,n=e.onSelectedInterestsChange,a=this.state.defaultInterests,o=t||N.f;n(a.slice(0,o),!0)}contextualUpdateInterests(e){const t=this.props,n=t.dynamicEnabledGroup,a=t.dynamicActivate,o=this.state,r=o.defaultInterests,i=o.contextualMap,s=o.addedContextualTopics,l=[];let c=!1;r.forEach(t=>{if(l.push(t),Object.keys(e).includes(t.id)&&Object.keys(i).includes(t.id)&&!Object.keys(s).includes(t.id)){if(a&&a(),!n)return;const e=i[t.id]||[];l.push(...e),c=!0}}),c&&this.setState({addedContextualTopics:Ye({},s,e),defaultInterests:l})}render(){const e=this.props,t=e.categorized,n=e.handleBottomScroll,a=e.showTableOfContents,r=this.state,i=r.interestFlipMessages,s=r.interestsToFlip;return o.a.createElement(He,{categorized:t,categoryProps:this.state.categoryProps,handleBottomScroll:n,handleInterestClickFn:this.handleInterestClickFn,interests:this.getInterestsWithUpdatedIsFollowed(),interestFlipMessages:i,interestsToFlip:s,showTableOfContents:a})}}var Ve=Object(r.connect)(({mostRecentPin:e})=>({mostRecentPinImages:e&&e.plp_image_signatures?e.plp_image_signatures:[]}),()=>({}))(e=>o.a.createElement(D.a,{name:"web_nux_auth_plp_picker",activate:!1},({anyEnabled:t,customActivate:n})=>o.a.createElement(D.a,{name:"web_nux_dynamic_picker",isEligible:!e.isRenux&&"female"===e.gender,activate:!1},({anyEnabled:a,group:r,customActivate:i})=>o.a.createElement(D.a,{name:"web_nux_preselect_topic",activate:!1,isEligible:!e.isRenux},({anyEnabled:s,customActivate:l})=>o.a.createElement(D.a,{name:"web_renux_preselect_topic",activate:!1,isEligible:e.isRenux},({anyEnabled:c,customActivate:u})=>o.a.createElement(Xe,Object.assign({},e,{anyEnabledForPreselectExp:s||c,customActivateForPreselectExp:l||u,inDynamicExp:!!r,dynamicEnabledGroup:a,dynamicActivate:i,plpEnabledGroup:t,plpActivate:n}))))))),Ke=n("OLQZ"),Qe=n.n(Ke),Ze=n("Irlq");function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,o=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(l){o=!0,r=l}finally{try{a||null==s.return||s.return()}finally{if(o)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){nt(e,t,n[t])})}return e}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const at=o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 1))"}},height:40,left:!0,marginTop:-10,position:"absolute",right:!0,top:!0});class ot extends a.Component{constructor(e){super(e),nt(this,"getButtonState",(e,t,n,a,o=!1)=>{const r=this.props,s=r.isRenux,l=r.isSimpleRenux,u=r.pickButtonTextGenerator,d=e.length,m=o&&d>=N.o?0:Math.max(0,t-d),p=a.nextButtonText,h=a.completionNextButtonText,g=u(m),b={done:{buttonText:h||c.a._("Done"),isDisabled:!1,allowSkip:!1},more:{buttonText:s&&!l?c.a._("Next","go to next step"):i.i(p||g,{numberLeftToFollow:`${m}`}),isDisabled:!0,allowSkip:!1},skip:{buttonText:c.a._("Skip (pick topics for me)"),isDisabled:!1,allowSkip:!0}};return 0===m?b.done:n?b.skip:b.more}),nt(this,"handleBottomScroll",e=>{const t=this.props,n=t.numberToFollow,a=t.selectedInterests,o=t.skipButton,r={nextButtonText:t.nextButtonText,nextButtonTextSingleTopic:t.nextButtonTextSingleTopic,completionNextButtonText:t.completionNextButtonText},i=this.getButtonState(a,n||N.e,o,r,e);this.setState(tt({},this.state,i))}),nt(this,"handleBottomScrollThrottled",Qe()(this.handleBottomScroll,50)),nt(this,"handleNextClick",()=>{const e=this.props,t=e.customProcessFollowedInterests,n=e.isRenux,a=e.isSimpleRenux,o=e.selectedInterests,r=e.followedInterests,i=e.incrementNuxStep,s=e.nuxAnimationElement,l=e.setNuxPickerProgress,c=e.dispatchUpdateFollows,u=e.dispatchSubmitOrientationContext,d=e.requestContext;if(t)return n||l(N.b),t(),void i();let m;if(n){const e=r.reduce((e,t)=>(e[t.id]=t.is_followed,e),{});m=Promise.resolve(c(e))}else{const e=[],t=[];o.forEach(n=>{e.push(n.id),t.push(n.log_data?n.log_data:null)});const n={interests:e.join(),log_data:JSON.stringify(t),referrer:"nux",user_behavior_data:Object(Oe.a)()};m=Promise.resolve(u(n))}m.then(()=>{n||l(N.b),Object(O.a)(101,{component:17,element:96,view:this.viewType,viewParameter:172});const e=new B.b(d,"web_nux_topics_home_animation");!a&&s&&window.innerHeight>N.n&&(e.checkWithNoActivation("enabled")||e.checkWithNoActivation("enabled_no_bg")||e.checkWithNoActivation("employees"))?this.setState({animateTopics:!0}):i()})}),nt(this,"renderSelectedTopicsSubHeader",()=>{const e=this.props.selectedInterests,t=et(e.map(e=>e.label),3),n=t[0],a=t[1],r=t[2],s=e.length-3;let l=null;return e&&e.length>0&&(l=1===e.length?i.c(c.a._("You've selected {{firstTopic}}.","Subheader text to show the topics a user selects in topic picker"),{firstTopic:n}):2===e.length?i.c(c.a._("You've selected {{firstTopic}} and {{secondTopic}}.","Subheader text to show the topics a user selects in topic picker"),{firstTopic:n,secondTopic:a}):3===e.length?i.c(c.a._("You've selected {{firstTopic}}, {{secondTopic}} and {{thirdTopic}}.","Subheader text to show the topics a user selects in topic picker"),{firstTopic:n,secondTopic:a,thirdTopic:r}):i.c(c.a.ngettext("You've selected {{firstTopic}}, {{secondTopic}}, {{thirdTopic}} and {{count}} more topic.","You've selected {{firstTopic}}, {{secondTopic}}, {{thirdTopic}} and {{count}} more topics.",s,"Subheader text to show the first three topics a user selects in topic picker, followed by a count of remaining topics chosen."),{firstTopic:n,secondTopic:a,thirdTopic:r,count:s.toString()})),o.a.createElement(d.J,{size:"xl"},l)}),nt(this,"renderOnHomefeed",()=>{const e=this.props.personalizationCopy.headerText,t=this.state,n=t.isDisabled,r=t.allowSkip,i=t.buttonText,s=this.props,l=s.gender,c=s.isRenux,u=s.isSimpleRenux,m=s.numberToFollow,p=s.onSelectedInterestsChange,h=s.preselect,g=s.selectedInterests,b=s.showTableOfContents;return o.a.createElement(a.Fragment,null,o.a.createElement(d.l,{size:"sm",overflow:"normal"},e),o.a.createElement(d.b,{height:"100%",margin:5,overflow:"hidden"},o.a.createElement(d.b,{direction:"column",display:"flex",height:"100%"},o.a.createElement(Ve,{gender:l,handleBottomScroll:this.handleBottomScrollThrottled,isRenux:c,isSimpleRenux:u,numberToFollow:m,onSelectedInterestsChange:p,preselect:h,selectedInterests:g,showTableOfContents:b})),o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 1))",bottom:75}},height:40,position:"absolute",width:N.m})),o.a.createElement(d.b,{"data-test-id":"nux-picker-done-btn",padding:1},o.a.createElement(d.c,{size:"lg",color:r?"gray":"red",text:i,disabled:n,onClick:this.handleNextClick,type:"submit"})))});const t=e.nextButtonText,n=e.nextButtonTextSingleTopic,r=e.completionNextButtonText,s=e.isRenux,l=e.selectedInterests,u={nextButtonText:t,nextButtonTextSingleTopic:n,completionNextButtonText:r},m=this.getButtonState(l,e.numberToFollow||N.e,e.skipButton,u);this.state=tt({},m,{animateTopics:!1}),this.viewType=s?213:24}componentDidMount(){const e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,a=e.setNuxPickerProgress;n||a(N.y),t("topic"),Object(O.a)(13,{view:this.viewType,viewParameter:172})}componentDidUpdate(e){const t=this.props,n=t.numberToFollow,a=t.selectedInterests,o=t.skipButton,r=t.nextButtonText,i=t.nextButtonTextSingleTopic,s=t.completionNextButtonText;if(a.length!==e.selectedInterests.length){const e={nextButtonText:r,nextButtonTextSingleTopic:i,completionNextButtonText:s},t=this.getButtonState(a,n||N.e,o,e);this.setButtonState(t)}}setButtonState(e){this.setState(tt({},e))}render(){const e=this.props,t=e.gender,n=e.incrementNuxStep,r=e.isRenux,i=e.isSimpleRenux,s=e.nuxAnimationElement,l=e.onSelectedInterestsChange,u=e.personalizationCopy,m=u.headerText,p=u.subHeaderText,h=e.preselect,g=e.selectedInterests,b=e.showTableOfContents,f=e.numberToFollow,_=this.state,x=_.animateTopics,E=_.isDisabled,w=_.buttonText;return o.a.createElement(a.Fragment,null,x&&o.a.createElement(Ae,Object.assign({},s,{interests:g,item:"home",onComplete:n})),o.a.createElement(D.a,{name:"web_homefeed_nux",activate:!1},({anyEnabled:e})=>e?this.renderOnHomefeed():o.a.createElement(D.a,{name:"web_renux_categorized_topics",isEligible:r&&("male"===t||"female"===t)},({group:e})=>{const n=["enabled_categorized","enabled_limited","employees"].includes(e),a="enabled_categorized"===e||"employees"===e;return o.a.createElement(d.b,{direction:"column",display:"flex",height:"100%"},o.a.createElement(d.b,{display:"visuallyHidden",role:"alert"},Object(Ze.b)(c.a._("{{selectedTopicsCount}} of at least 5 topics selected","accessible label how many topics are selected"),{selectedTopicsCount:g.length})),o.a.createElement(d.b,{paddingX:8,marginTop:8,marginBottom:a?3:8,wrap:!0},o.a.createElement(d.l,{size:"xs"},m),r&&o.a.createElement(d.J,{size:"xl"},p),o.a.createElement(D.a,{name:"web_nux_selected_topics_subheader",isEligible:!r},({anyEnabled:e})=>e?this.renderSelectedTopicsSubHeader():null)),o.a.createElement(Ve,{categorized:a,gender:t,handleBottomScroll:this.handleBottomScrollThrottled,isRenux:r,isSimpleRenux:i,limited:n,numberToFollow:f,onSelectedInterestsChange:l,preselect:h,selectedInterests:g,showTableOfContents:b}),o.a.createElement(d.b,{position:"relative"},!a&&at,o.a.createElement(d.b,{"data-test-id":"nux-picker-done-btn",marginBottom:8,marginTop:a?3:4,paddingX:8},o.a.createElement(d.c,{size:"lg",color:"red",text:w,disabled:E,onClick:this.handleNextClick,type:"submit"}))))})))}}nt(ot,"defaultProps",{skipButton:!1,pickButtonTextGenerator:e=>c.a.ngettext("Pick {{ numberLeftToFollow }} more","Pick {{ numberLeftToFollow }} more",e,"number of interests left to pick")});var rt=Object(k.compose)(F.e,Object(r.connect)(function({viewer:e,ui:t}){return{gender:e&&e.gender?e.gender:"",nuxAnimationElement:t&&t.header&&t.header.nuxAnimationElements&&t.header.nuxAnimationElements.hf?t.header.nuxAnimationElements.hf:void 0}},function(e){return{dispatchSetNuxStepProgress:t=>e(Object(C.a)(t)),dispatchUpdateFollows:t=>e(Object(j.e)(t)),dispatchSubmitOrientationContext:t=>e(Object(j.b)(t)),setNuxPickerProgress:t=>e(Object(j.a)(N.v,t))}}))(ot),it=n("lx8N"),st=n("KstO");const lt={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#4A90E2",purple:"#B469EB"},ct="DelightfulBubbles__",ut=[`${ct}fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n`,`${ct}growShrink {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n`,`${ct}swirl {\n  0% {\n    transform: rotate(0deg) translateX(-50%);\n  }\n  100% {\n    transform: rotate(-360deg) translateX(-50%);\n  }\n}\n`,...Object.keys(lt).map(e=>{const t=((e,t)=>{const n=e.length,a=e.indexOf(t)+1>=n?0:e.indexOf(t)+1;return e[a]})(Object.keys(lt),e);return`${ct}colorChange_${e} {\n      0% {\n        background-color: ${lt[e]};\n      }\n      50% {\n        background-color: ${lt[t]};\n      }\n    }\n    `})],dt=Object(st.a)(ut);function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const pt=e=>{const t=e.delay,n=e.diameter,a=e.height,r=e.initialColor,i=e.width,s=e.xOffset,l=e.yOffset,c=((e,t,n,a,o,r,i,s)=>({bubblePositionStyles:{position:"absolute",marginLeft:`${r/2-o}px`,marginTop:`${n/2-o}px`,left:`${i}px`,top:`${s}px`},bubbleSwirlStyles:{animation:`${ct}swirl 6s ease-in-out ${e}s infinite forwards`,WebkitAnimation:`${ct}swirl 6s ease-in-out ${e}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${ct}growShrink 6s ease-in-out ${e}s infinite alternate`,WebkitAnimation:`${ct}growShrink 6s ease-in-out ${e}s infinite alternate`},bubbleShapeStyles:{height:`${t}px`,width:`${t}px`,borderRadius:"50%",backgroundColor:lt[a],opacity:0,animation:`${ct}colorChange_${a} 12s steps(1, start) ${e}s infinite forwards,\n      ${ct}fadeIn 3s linear ${e}s 1 forwards`,WebkitAnimation:`${ct}colorChange_${a} 12s steps(1, start) ${e}s infinite forwards,\n      ${ct}fadeIn 3s linear ${e}s 1 forwards`}}))(t,n,a,r,Math.floor(n/2),i,s,l);return o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:c.bubblePositionStyles}},o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:c.bubbleSwirlStyles}},o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:c.bubbleGrowShrinkStyles}},o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:c.bubbleShapeStyles}}))))};class ht extends a.Component{constructor(...e){super(...e),mt(this,"state",{isInitialized:!1})}componentDidMount(){this.requestAnimationFrameId=window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}shouldComponentUpdate(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){return void 0!==this.props.width&&void 0!==this.props.height?{height:this.props.height,width:this.props.width}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{}}createBubbles(e,t){const n=this.props,a=n.bubbleSize,r=n.delayFactor,i=n.delayOffset,s=n.numBubbles,l=n.xRadiusAdjustment,c=e+2*n.yRadiusAdjustment,u=t+2*l,d=[],m=Object.keys(lt);for(let p=0;p<s;p+=1){const n=a+Object(st.c)(-4,4),s=m[p%m.length],l=Object(st.b)(c,u),h=l.x,g=l.y;d.push(o.a.createElement(pt,{delay:p*r+i,diameter:n,initialColor:s,xOffset:h,yOffset:g,height:e,width:t,key:p}))}return d}render(){const e=this.getSize();return o.a.createElement(d.b,Object.assign({},e,{position:"relative"}),o.a.createElement("style",{dangerouslySetInnerHTML:{__html:dt}}),o.a.createElement("div",{ref:e=>this.containerElement=e},this.state.isInitialized&&this.createBubbles(e.height||0,e.width||0),o.a.createElement(d.b,{position:"relative"},this.props.children)))}}mt(ht,"defaultProps",{bubbleSize:16,numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});var gt=ht,bt=n("ggpB"),ft=n("hCBh");function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xt=250;var Et=Object(k.compose)(F.e,Object(r.connect)(({viewer:e,ui:t})=>({firstName:e.firstName?e.firstName:"",nuxAnimationElement:t&&t.header&&t.header.nuxAnimationElements&&t.header.nuxAnimationElements.profile?t.header.nuxAnimationElements.profile:void 0,userEmail:e.isAuth?e.email:""}),e=>({dispatchSetNuxStepProgress:t=>e(Object(C.a)(t)),updateNameInfo:t=>e(Object(j.f)({updateUserData:t})),setNuxNameProgress:()=>e(Object(j.a)(N.w,N.b))})))(class extends a.PureComponent{constructor(...e){super(...e),_t(this,"state",{animateProfile:!1,inProfileAnimationExp:!!this.props.nuxAnimationElement&&window.innerHeight>N.n&&new B.c(this.props.requestContext,"web_nux_profile_animation").enabled(),name:this.props.firstName,showAccountSwitchModal:!1,showNameInput:!1,showNoNameError:!1,showNameLengthError:!1}),_t(this,"onNameChange",({value:e})=>{this.setState({name:e||"",showNoNameError:!e||i.h(e),showNameLengthError:!!e&&e.length>30})}),_t(this,"toggleNameInput",()=>{const e=this.state,t=e.showNameInput,n=e.inProfileAnimationExp;if(t&&n){const e=Object(ft.a)(this.state.name);this.props.updateNameInfo(e)}this.setState(({showNameLengthError:e,showNoNameError:t,showNameInput:n})=>({showNameInput:e||t||!n})),Object(O.a)(101,{element:136,view:24,viewParameter:259})}),_t(this,"continueAndSave",()=>{const e=this.props,t=e.incrementNuxStep,n=e.setNuxNameProgress,a=e.updateNameInfo,o=this.state,r=o.inProfileAnimationExp,i=o.name;a(Object(ft.a)(i)).then(()=>{n(),Object(O.a)(101,{element:96,view:24,viewParameter:259}),r?this.setState({animateProfile:!0}):t()})}),_t(this,"getError",()=>{const e=this.state,t=e.showNameLengthError;let n="";return e.showNoNameError?n=c.a._("And your name is...?","Error flyout when user doesn't input name"):t&&(n=c.a._("Hmm, that's a few characters too long. Try a nickname instead?","Name exceeds 30 character maximum error")),n}),_t(this,"handleHideAccountSwitcher",()=>this.setState({showAccountSwitchModal:!1})),_t(this,"handleNotYouClick",e=>{e.event.preventDefault(),Object(bt.a)("web.nux.click_login"),this.setState({showAccountSwitchModal:!0})}),_t(this,"renderOnHomefeed",()=>{const e=this.props.personalizationCopy,t=e.headerText,n=e.subHeaderText,r=this.state,s=r.name,l=r.showNameInput,u=i.c(c.a._("{{ titleText }}, {{ name }}!","Greeting with inferred name."),{titleText:t,name:s}),m=t,p=this.getError(),h=o.a.createElement(d.b,{"data-test-id":"nux-edit-name-btn",marginStart:1},o.a.createElement(d.n,{accessibilityLabel:c.a._("Edit name","Icon to edit name inferred from email"),bgColor:"transparent",icon:l?"check":"edit",onClick:this.toggleNameInput,size:"sm"}));return o.a.createElement(a.Fragment,null,o.a.createElement(d.b,{alignItems:"center",display:"flex",maxWidth:"100%"},o.a.createElement(d.l,{size:"sm",truncate:!0},l?m:u),l&&o.a.createElement(d.b,{"data-test-id":"nux-edit-name-input",marginLeft:2,width:xt},o.a.createElement(d.L,{id:"name",errorMessage:p,onChange:this.onNameChange,placeholder:c.a._("Name","Inferred name textfield placeholder"),type:"text",value:s})),h),o.a.createElement(d.J,{align:"center",size:"xl"},n),o.a.createElement(d.b,{"data-test-id":"nux_name_done_btn",direction:"column",display:"flex",flex:"grow",justifyContent:"center",padding:1},o.a.createElement(d.c,{accessibilityLabel:c.a._("Next","go to next nux step"),color:"red",disabled:!!p,onClick:this.continueAndSave,text:c.a._("Next","next nux step button"),type:"button"})))})}componentDidMount(){this.props.dispatchSetNuxStepProgress("welcome"),Object(O.a)(13,{view:24,viewParameter:259})}render(){const e=this.props,t=e.incrementNuxStep,n=e.personalizationCopy,a=n.headerText,r=n.subHeaderText,s=e.nuxAnimationElement,l=e.userEmail,u=this.state,m=u.animateProfile,p=u.name,h=u.showAccountSwitchModal,g=u.showNameInput,b=i.c(c.a._("{{ titleText }}, {{ name }}!","Greeting with inferred name."),{titleText:a,name:p}),f=a,_=c.a._("Already have a Pinterest account?","subtitle to ask users who create a new account if they meant to log in to an existing account"),x=this.getError(),E=o.a.createElement(d.b,{"data-test-id":"nux-edit-name-btn",marginStart:1},o.a.createElement(d.n,{accessibilityLabel:"editName",bgColor:"transparent",icon:g?"check":"edit",onClick:this.toggleNameInput,size:"sm"}));return o.a.createElement(D.a,{name:"web_homefeed_nux",activate:!1},({anyEnabled:e})=>e?this.renderOnHomefeed():o.a.createElement(o.a.Fragment,null,m&&o.a.createElement(Ae,Object.assign({item:"profile",onComplete:t},s)),h&&o.a.createElement(it.a,{onDismiss:this.handleHideAccountSwitcher,showAddAccount:!0,hideAccountSwitchValueProp:!0,customTaglineText:c.a._("Log in","Title on modal for users to log in to an existing account after they accidentally created a new account")}),o.a.createElement(d.b,{direction:"column",display:"flex",height:"100%",padding:10,minWidth:"100%"},o.a.createElement(d.b,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"around",marginBottom:10,width:"100%"},o.a.createElement(gt,{delayOffset:-5,xRadiusAdjustment:40},o.a.createElement(d.b,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:100,justifyContent:"end",overflow:"hidden",shape:"circle",width:100},o.a.createElement(d.m,{accessibilityLabel:c.a._("Loading state for any sign up registration"),color:"gray",icon:"person",size:70}))),o.a.createElement(d.b,{alignItems:"center",marginTop:5},o.a.createElement(d.J,{align:"center",size:"lg",truncate:!0},l)),o.a.createElement(d.b,{alignItems:"end",display:"flex",width:"100%"},o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},direction:"column",display:"flex",marginStart:9,maxHeight:170,overflow:"hidden",width:"100%"},o.a.createElement(d.p,{htmlFor:"name"},o.a.createElement(d.l,{size:"sm"},g?f:b)),g&&o.a.createElement(d.b,{alignItems:"center","data-test-id":"nux-edit-name-input",display:"flex",justifyContent:"center",padding:1},o.a.createElement(d.b,{width:xt},o.a.createElement(d.L,{id:"name",errorMessage:x,onChange:this.onNameChange,placeholder:c.a._("name"),type:"text",value:p})),E)),!g&&E),o.a.createElement(d.b,{width:"100%"},o.a.createElement(d.J,{align:"center",size:"xl"},r))),o.a.createElement(d.b,{"data-test-id":"nux_name_done_btn"},o.a.createElement(d.c,{accessibilityLabel:c.a._("Next","go to next nux step"),color:"red",disabled:!!x,onClick:this.continueAndSave,text:c.a._("Next","next nux step button"),type:"button"})),o.a.createElement(d.b,{marginTop:4},o.a.createElement(d.O,{onTouch:this.handleNotYouClick,fullWidth:!1},o.a.createElement(d.J,{size:"lg",align:"center"},_),o.a.createElement(d.J,{size:"lg",align:"center",bold:!0},o.a.createElement(d.s,{href:"#"},c.a._("Log in instead","Link allowing users who just created a new account the option to log in instead into an existing account"))))))))}});const wt=[{moduleName:"NuxPicker"},{moduleName:"NuxExtensionUpsell"},{moduleName:"NuxEducationLoader"}];function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=n("JsRk");function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Ct(e,t,n[t])})}return e}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Nt extends a.Component{constructor(...e){super(...e),Ct(this,"state",{followedInterests:[],isLoading:!1,nuxStep:this.getNextStepIndex(-1,this.props.steps,!1),selectedInterests:[],userClickedBack:!1}),Ct(this,"onComplete",()=>{const e=this.props,t=e.handleComplete,n=e.isLandingPage,a=e.isRenux,o=e.dispatchUpdateFirstHomeFeedRequestAfterNuxFlag;Object(O.a)(4105,{view:a?213:24,viewParameter:171}),a||o(!0),t(),n&&this.handleNavigate("/")}),Ct(this,"mounted",!1),Ct(this,"handleNavigate",e=>{const t=this.props.router;if(t)t.push({pathname:e,state:{completedNux:!0}});else{const t=new u.a;l.default.navigate(e,t)}}),Ct(this,"handleSelectedInterestsChange",(e,t)=>{this.setState((n,a)=>{const o=this.getUpdatedSelectedInterests(n.selectedInterests,e,t),r=this.getUpdatedFollowInterests(n.followedInterests,e,t);return(0,a.dispatchSetNuxSelectedInterestImages)(o.reduce((e,t)=>{if(t&&t.images&&t.images["400x"]){const n={bestPinsImages:t.best_pins_images,height:t.images["400x"].height,width:t.images["400x"].width,url:t.images["400x"].url};e.push(n)}return e},[])),{selectedInterests:o,followedInterests:r}})}),Ct(this,"nuxSteps",{NuxGenderStep:z,NuxLocaleCountryStep:ne,NuxPicker:rt,NuxExtensionUpsell:G,NuxEducationLoader:L,NuxWelcomeNameStep:Et}),Ct(this,"onPrevStepClickFn",e=>{const t=this.props,n=t.steps,a=t.isRenux,o=n[e].moduleName;return()=>{const t={NuxWelcomeNameStep:259,NuxGenderStep:3120,NuxLocaleCountryStep:3139,NuxPicker:172}[o];t&&Object(O.a)(101,{component:17,element:34,view:a?213:24,viewParameter:t}),e>0&&this.setState({nuxStep:e-1,userClickedBack:!0})}})}componentDidMount(){const e=this.props.isRenux;this.mounted=!0,Object(O.a)(4104,{view:e?213:24,viewParameter:170})}componentWillUnmount(){this.mounted=!1}getUpdatedFollowInterests(e,t,n){let a=[...e];return t.forEach(e=>{const t=Ot({},e,{is_followed:n});let o=!1;a=a.map(e=>e.id===t.id?(o=!0,t):e),o||a.push(t)}),a}getUpdatedSelectedInterests(e,t,n){let a=[...e];return t.forEach(t=>{const o=Object(s.b)(a,t);n&&!o?a.push(Ot({},t,{is_followed:n})):!n&&o&&(a=e.filter(e=>e.id!==t.id))}),a}getPersonalizationCopy(e){const t=this.props,n=t.isRenux,a=t.isSimpleRenux,o=t.steps;let r,s;const l=e.moduleName,u=o.map(e=>e.moduleName).indexOf(l)===o.length-2;switch(l){case"NuxWelcomeNameStep":return{headerText:c.a._("Welcome to Pinterest","greeting on welcome name step"),subHeaderText:c.a._("Your answers to the next few questions will help us find the right ideas for you","header on nux welcome and name editing step")};case"NuxGenderStep":return r=c.a._("How do you identify?","Header in NUX gender step."),s="",n&&(r=c.a._("It’s time to refresh your feed!","Title on the modal asking user's gender"),s=c.a._("How would you describe yourself?","Subtitle on the modal asking user's gender")),{headerText:r,subHeaderText:s};case"NuxLocaleCountryStep":return{headerText:c.a._("Pick your language and country/region","Header in NUX locale/country step")};case"NuxPicker":return n&&!a?(r=c.a._("What are you into these days?","Header in ReNUX topic picker step."),s=c.a._("Pick the topics you want to see in your home feed","Subheader in ReNUX topic picker step.")):(r=u?c.a._("Last step! Tell us what you're interested in","Header in NUX topic picker step."):c.a._("Tell us what you're interested in","Header in NUX topic picker step."),s=i.c(c.a._("Pick {{ numberToFollow }} (or more!) to start discovering new ideas","Subheader in NUX topic picker step with required number of topics to follow"),{numberToFollow:String(N.e)})),{headerText:r,subHeaderText:s};case"NuxExtensionUpsell":return{headerText:r=u?c.a._("Last step! Get our handy browser button","Header in NUX browser extension upsell step."):c.a._("Get our handy browser button","Header in NUX browser extension upsell step."),subHeaderText:c.a._("Quickly save any idea you find around the web","Subheader in NUX browser extension upsell step")};default:return{}}}nuxStepToRender(e,t){const n=this.state,a=n.followedInterests,r=n.selectedInterests,i=this.props,s=i.isRenux,l=i.isSimpleRenux,c=e.moduleName,u=this.nuxSteps[c],d=this.hasNuxStep("NuxGenderStep");return o.a.createElement(F.a,null,n=>o.a.createElement(u,Object.assign({},e.options,{experiments:n.experiments,followedInterests:a,hasGenderStep:d,incrementNuxStep:this.incrementNuxStep(this.state.nuxStep),isSimpleRenux:l,isRenux:s,numberToFollow:s&&!l?N.x:N.e,onSelectedInterestsChange:this.handleSelectedInterestsChange,personalizationCopy:this.getPersonalizationCopy(e),requestContext:n,selectedInterests:r,showTableOfContents:t,toggleLoadingIndicator:e=>this.setState({isLoading:e})})))}getNextStepIndex(e,t,n){const a=this.props.isRenux;let o=e+1;if(n)return o;if(!a)for(;o<t.length&&t[o].isCompleted;)o+=1;return o}incrementNuxStep(e){const t=this.props,n=t.steps,a=t.dispatchSubmitOrientationContextFollow,o=this.state.userClickedBack,r=this.getNextStepIndex(e,n,o);return r>=n.length?this.onComplete:()=>{const t=t=>{if(e!==t)return this.setState({nuxStep:t})};if(n.length>r&&n[r].options&&n[r].options.onStartApi){n[r].options.onStartApi===N.h?a().finally(t):t(r)}else t(r)}}hasNuxStep(e){return this.props.steps.some(t=>t.moduleName===e)}render(){const e=this.state,t=e.isLoading,n=e.nuxStep,a=this.props,r=a.handleDismiss,i=a.isLandingPage,s=a.isPartner,l=a.isRenux,c=a.isSimpleRenux,u=a.requestContext,d=a.steps,m=e=>["NuxEducationLoader"].includes(e),p=d.filter(e=>!m(e.moduleName)),h=!m(d[n].moduleName)&&!i&&!l,g=h&&p.length>1&&!s,b=h&&!g,f=!(!l||m(d[n].moduleName));return o.a.createElement(ye,{displayHide:f,isLoading:t,isRenux:l,isSimpleRenux:c,nuxStep:d[n],onHide:r,onPrevStepClick:this.onPrevStepClickFn(n),requestContext:u,showCounter:b,showTableContents:g,steps:p},this.nuxStepToRender(d[n],g))}}Ct(Nt,"defaultProps",{isRenux:!1,isSimpleRenux:!1});t.a=Object(k.compose)(F.e,Object(r.connect)(({viewer:e})=>({isPartner:e.isAuth&&e.isPartner}),e=>({dispatchSetNuxSelectedInterestImages:t=>e(function(e){return{type:"SET_NUX_SELECTED_INTEREST_IMAGES",payload:{images:e}}}(t)),dispatchSubmitOrientationContextFollow:()=>e(Object(j.c)()),dispatchUpdateFirstHomeFeedRequestAfterNuxFlag:t=>e(Object(j.d)(t))})),y.a,function(e){class t extends a.PureComponent{constructor(...e){super(...e),St(this,"state",{skipExtStep:!1})}componentDidMount(){const e=this.props.steps;A.a.extensionReady(N.p).then(t=>{e.some(e=>"NuxExtensionUpsell"===e.moduleName)&&t&&this.setState({skipExtStep:!0})})}render(){let t=this.props.steps;return this.state.skipExtStep&&(t=t.filter(e=>"NuxExtensionUpsell"!==e.moduleName)),o.a.createElement(e,Object.assign({},this.props,{steps:t}))}}return St(t,"propTypes",{steps:Q.a.arrayOf(Q.a.shape({moduleName:Q.a.string.isRequired,options:Q.a.shape({})})).isRequired}),t},function(e){const t=function(t,n){return o.a.createElement(e,Object.assign({},t,{steps:t.steps||wt}))};return t.propTypes={steps:Q.a.arrayOf(Q.a.shape({moduleName:Q.a.string.isRequired,options:Q.a.shape({})}))},t},yt.withRouter)(Nt)}}]);
//# sourceMappingURL=pjs-CreativeEditorPageDesktop~ExperiencesAfterHomefeed~ExperiencesBeforeHomefeed~PinAnalyticsPageDesktop~f18b3dce-67cab0ec57f22025791e.mjs.map
