(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["DeprecatedCloseupActionBarCommon"],{Oj1G:function(e,t,n){n.d(t,"a",function(){return s});var a=n("GyhR"),i=n.n(a),r=n("iz36"),o=n("+U6O");const l=136;class s extends i.a.Component{constructor(...e){var t,n,a;super(...e),a={paused:!1,showPulsar:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}componentDidMount(){this.mountPulsar(),this.props.onSendExperienceMount&&this.experience&&this.props.onSendExperienceMount(this.experience)}componentWillUnmount(){clearTimeout(this.timer)}mountPulsar(){if(!this.experience)return;this.experience.display_data.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){const e=this.props.anchor,t=this.state.paused;if(!e)return null;const n=e.getBoundingClientRect(),a=n.height,r=n.width,s=-(l/2+a/2),c=-(l/2-r/2);return i.a.createElement(o.b,{dangerouslySetInlineStyle:{__style:{position:"absolute",zIndex:1,marginTop:s,marginLeft:c,cursor:"pointer",pointerEvents:"none"}}},i.a.createElement(o.z,{paused:t}))}render(){const e=this.props,t=e.anchor,n=e.experienceIds,a=e.flyoutSize,l=e.idealDirection,s=e.placementId,c=e.shouldTimeoutDismiss,u=e.textOverflow,d=this.state.showPulsar;return i.a.createElement(r.a,{experienceIds:n,placementId:s,type:8},e=>{const n=e.complete,r=e.dismiss,s=e.display_data;return this.experience=e,s.has_pulsar||s.has_tooltip?(c&&s.disappearTime&&s.disappearTime>0&&(this.timer=setTimeout(()=>(r(),null),s.disappearTime)),i.a.createElement(o.b,{dangerouslySetInlineStyle:{__style:{zIndex:10}}},d&&this.renderPulsar(),s.has_tooltip&&(!s.has_pulsar||this.state.paused)&&i.a.createElement(o.j,{anchor:t,color:"blue",idealDirection:l||"down",onDismiss:()=>{},shouldFocus:!1,size:a},i.a.createElement(o.b,{column:12,padding:3},i.a.createElement(o.J,{bold:!0,color:"white",size:"lg",overflow:u},s.text))))):(n(),null)})}}},gSyy:function(e,t,n){n.r(t);var a=n("GyhR"),i=n.n(a),r=n("tI50"),o=n("Qo1m"),l=n("Mce2"),s=n("Oeu6"),c=n("+U6O");var u=Object(s.a)(({handlePinEditButtonClick:e})=>i.a.createElement(l.a,{id:"closeup-pin-edit-button"},i.a.createElement(c.b,null,i.a.createElement(c.n,{accessibilityLabel:o.a._("Edit","edit button on pin"),icon:"edit",onClick:({event:t})=>e&&e(t)})))),d=n("Oj1G"),p=n("fifU"),m=n("iN5V"),h=n("OtLr"),E=n("UmN8");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"DeprecatedCloseupActionBar",function(){return y});const f=Object(a.lazy)(()=>Promise.resolve().then(n.bind(null,"ieLn")));class y extends i.a.Component{constructor(e){super(e),b(this,"sendExperienceComplete",()=>{}),b(this,"handleExternalSend",()=>{this.sendExperienceComplete()}),b(this,"onSendExperienceMount",e=>{e&&e.complete&&500946===e.experience_id&&(this.sendExperienceComplete=e.complete)}),b(this,"promoteButtonRef",Object(a.createRef)()),this.sendButtonTooltipRef=i.a.createRef()}render(){const e=this.props,t=e.editable,n=e.gridDescription,a=e.hidePromoteButton,o=e.hideButtons,l=e.imageSrc,s=e.isFlyoutOpen,h=e.isOnSecretBoard,b=e.onEditSubmit,y=e.onFlyoutDismiss,_=e.onToggleFlyout,g=e.pin,x=e.pinActionDropdown,S=e.promotedIsRemovable,w=e.saveButton,B=e.shareButtonRef,O=e.viewParameter,D=e.promoteButton;let I=null;if(a)I=null;else if(D)I=i.a.createElement(i.a.Fragment,null,i.a.createElement(c.b,{ref:this.promoteButtonRef},i.a.createElement(c.b,{marginStart:3},D)),i.a.createElement(d.a,{experienceIds:[501121],idealDirection:"down",placementId:12,anchor:this.promoteButtonRef.current,flyoutSize:"lg"}));else if(g.is_quick_promotable){const e=Object(m.a)(".partnerCloseupPromoteButton")(r.a);I=i.a.createElement(c.b,{marginStart:3,"data-test-id":"closeupPromoteButtonWithPulsar"},i.a.createElement(e,{buttonType:"icon-and-text",pin:g}))}const v=h?null:i.a.createElement(p.a,null,i.a.createElement(c.b,null,i.a.createElement("div",{ref:this.sendButtonTooltipRef},i.a.createElement(f,{buttonType:"icon-and-text",buttonText:"Share",gridDescription:n,imageSrc:l,isFlyoutOpen:s,onExternalSend:this.handleExternalSend,onFlyoutDismiss:y,onToggleFlyout:_,pinId:g.id,sendType:"pin",shareButtonRef:B})),w&&!s&&i.a.createElement(d.a,{experienceIds:[500946],placementId:12,anchor:this.sendButtonTooltipRef.current,onSendExperienceMount:this.onSendExperienceMount}))),P=i.a.createElement(E.a,{isEligible:o,name:"web_align_pin_action_bar_fpe"},({anyEnabled:e})=>i.a.createElement(c.b,{display:"flex",color:"white",justifyContent:o&&e?"end":"between",paddingX:6,paddingY:4,shape:"rounded"},!o&&i.a.createElement(c.b,{display:"flex"},t&&i.a.createElement(c.b,{marginEnd:1},i.a.createElement(u,{carouselSlotCurrentIndex:g&&g.carousel_data&&g.carousel_data.index,pinId:g.id,onSubmit:b,view:3,viewParameter:O})),x),i.a.createElement(c.b,{dangerouslySetInlineStyle:{__style:{marginStart:"auto"}},alignItems:"center",display:"flex"},v&&i.a.createElement(c.J,{align:"left"},v),I,!S&&i.a.createElement(c.b,{marginStart:3},w))));return i.a.createElement(i.a.Fragment,null,P)}}t.default=Object(h.a)(y)}}]);
//# sourceMappingURL=pjs-DeprecatedCloseupActionBarCommon-ae16b8f36aeeaeb43e2f.mjs.map
