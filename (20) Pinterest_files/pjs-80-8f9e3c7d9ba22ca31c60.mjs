(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[80],{"/kx4":function(e,t,n){var r=n("GyhR"),i=n.n(r),a=n("Qo1m"),s=n("hvnN"),o=n.n(s);const l=["orange","green","purple","watermelon","pine","navy","eggplant","olive","maroon"];function c(e){return l[e.charCodeAt(0)%l.length]}var d=n("+U6O"),u=n("mwLX");function h(e){const t=e.user,n=e.search,r=e.storyType;if(r===u.b.USER){const e=t.full_name,n=t.image_large_url;return i.a.createElement("div",{className:"attributionUserBorder",style:{height:u.a,width:u.a}},i.a.createElement(d.a,{name:e,src:n}))}return r===u.b.SEARCH?i.a.createElement("div",{className:"attributionSearchBorder"},i.a.createElement(d.b,{shape:"pill",color:c(n)},i.a.createElement(d.b,{deprecatedPadding:{x:2},display:"flex",alignItems:"center"},i.a.createElement(d.b,{deprecatedMargin:{right:1}},i.a.createElement(d.m,{accessibilityLabel:a.a._("search"),icon:"search",label:"search",color:"white"})),i.a.createElement(d.b,{maxWidth:150,deprecatedPadding:{y:2}},i.a.createElement(d.J,{truncate:!0,color:"white",smSize:"xs",mdSize:"sm",lgSize:"md"},n))))):null}function m(e){const t=e.height,n=e.pins,r=e.pinWidth,a=e.search,s=e.storyType,o=e.user;return i.a.createElement(d.b,{position:"relative"},i.a.createElement(d.t,{height:t,shape:"rounded",wash:!0},i.a.createElement(d.b,null,n.map((e,n)=>(function(e,t,n,r){return i.a.createElement("div",{key:t,className:"miniPinGridItem",style:{backgroundImage:`url(${e.url})`,height:n,width:r}})})(e,n,t,r)))),i.a.createElement("span",{className:"attributionWrapper"},i.a.createElement(h,{search:a,storyType:s,user:o})))}h.propTypes={search:o.a.string,storyType:o.a.string,user:o.a.shape({full_name:o.a.string,image_large_url:o.a.string})},m.propTypes={height:o.a.number.isRequired,pins:o.a.arrayOf(o.a.shape({url:o.a.string})).isRequired,pinWidth:o.a.number.isRequired,search:o.a.string,storyType:o.a.string.isRequired,user:o.a.shape({full_name:o.a.string,image_large_url:o.a.string})};t.a=m},"1Yd3":function(e,t,n){n.d(t,"a",function(){return d});var r=n("GyhR"),i=n.n(r),a=n("Qo1m"),s=n("hvnN"),o=n.n(s),l=n("Irlq"),c=n("+U6O");function d({backgroundColor:e,followersCount:t,followersCountDisplay:n,image:r,name:s,width:o}){const d=a.a.ngettext("{{ count }} {{ label }}","{{ count }} {{ label }}",t||0,"indicate a number of followers"),u=a.a.ngettext("follower","followers",t||0,"used in {{count}} {{followers}}");return i.a.createElement(c.b,null,i.a.createElement(c.t,{shape:"rounded"},r?i.a.createElement(c.b,{position:"relative"},i.a.createElement(c.r,{width:o,height:o,contentAspectRatio:r.width/r.height},i.a.createElement(c.o,{alt:s,color:e,naturalHeight:1,naturalWidth:1,src:r.url})),i.a.createElement(c.b,{height:o,width:o,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(to bottom,\n                  rgba(181, 181, 181, .1) 0%,\n                  rgba(0, 0, 0, .2) 33%,\n                  rgba(0, 0, 0, .5) 66%,\n                  rgba(0, 0, 0, .7) 100%)"}},position:"absolute",top:!0})):i.a.createElement(c.b,{height:o,width:o,dangerouslySetInlineStyle:{__style:{backgroundColor:e}}}),i.a.createElement(c.b,{bottom:!0,left:!0,right:!0,position:"absolute",padding:3},i.a.createElement(c.J,{bold:!0,color:"white",overflow:"normal",size:"lg",smSize:"sm",mdSize:"md",lgSize:"lg"},s),t?i.a.createElement(c.b,null,Object(l.b)(d,{count:i.a.createElement(c.J,{bold:!0,color:"white",inline:!0,key:"followersCount",size:"sm"},n),label:i.a.createElement(c.J,{color:"white",inline:!0,key:"followersLabel",size:"sm"},u)})):null)))}d.propTypes={backgroundColor:o.a.string,followersCount:o.a.number,followersCountDisplay:o.a.node,image:o.a.shape({url:o.a.string.isRequired,width:o.a.number.isRequired,height:o.a.number.isRequired}),name:o.a.string.isRequired,width:o.a.number.isRequired}},"2hPZ":function(e,t,n){const r="undefined"!=typeof window&&window.performance?()=>window.performance.now():()=>Date.now();t.a=(({window:e,duration:t,run:n})=>{const i=r();let a=0,s=null;const o=()=>{const l=r()-i,c=l-a;if(t===1/0)n(0,l,c);else{const e=l/t;if(e>=1)return void n(1,l,c);n(e,l,c)}a=l,s=e.requestAnimationFrame(o)};return{start:()=>{s=e.requestAnimationFrame(o)},cancel:()=>{s&&(e.cancelAnimationFrame(s),s=null)}}})},"66xa":function(e,t,n){n.d(t,"a",function(){return y});var r=n("GyhR"),i=n.n(r),a=n("PNko"),s=n.n(a),o=n("hvnN"),l=n.n(o),c=n("mwLX"),d=n("+U6O");function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=4,p=136,g=60,b=40;class y extends r.Component{getRowElements(){const e=this.props,t=e.hasBrioCorners,n=e.imageFit,r=e.imageSize,a=e.isFullWidth,o=e.itemHeight,l=e.itemWidth,h=e.previewItemCount,y=e.previewItems,f=e.showEmptyCards,w=e.variant,E=new Set,v=a?h-m:Math.min(h-m,99),_=f?m:Math.min(y.length,m);return Array.from(new Array(_)).map((e,h)=>{const f=y[h]||{},_=f.description,I=f.image_signature,T=f.images,R=f.type;if(R&&R!==c.b.PIN)return null;if(I&&E.has(I))return null;E.add(I);const S=T&&T[r];return i.a.createElement("span",{className:s()("previewRowItem",u({previewRowFullWidthItem:a,fourPixelMask:!a},"default"===w?{hasLegoBrioCorners:!0}:{hasBrioCorners:t})),key:h},i.a.createElement(d.r,{width:l||o||b,height:o||g,contentAspectRatio:1},S&&i.a.createElement(d.o,{alt:_||"",fit:n?"cover":null,naturalHeight:p,naturalWidth:p,src:(S||{}).url},h===m-1&&v>0&&i.a.createElement(d.b,{flex:"grow",display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.2)",height:"100%"}}},i.a.createElement(d.J,{bold:!0,size:a?"xl":"sm",color:"white"},"+"+v)))))}).filter(e=>e)}render(){return i.a.createElement("div",null,this.getRowElements())}}h(y,"propTypes",{hasBrioCorners:l.a.bool,imageFit:l.a.bool,imageSize:l.a.string,isFullWidth:l.a.bool,itemHeight:l.a.number,itemWidth:l.a.number,previewItemCount:l.a.number,previewItems:l.a.arrayOf(l.a.shape({description:l.a.string,full_name:l.a.string,id:l.a.string,image_large_url:l.a.string,image_thumbnail_urls:l.a.shape({"100x":l.a.string}),image_signature:l.a.string,images:l.a.shape({"136x136":l.a.shape({url:l.a.string})}),type:l.a.string.isRequired})),showEmptyCards:l.a.bool,variant:l.a.oneOf(["legacy","default"])}),h(y,"defaultProps",{hasBrioCorners:!1,imageSize:"136x136",previewItems:[]})},"8k0i":function(e,t,n){n.d(t,"a",function(){return a});const r=n("QJ2d").a.settings,i={0:r.CANONICAL_MAIN_URL,3:r.CANONICAL_ADS_URL,4:r.CANONICAL_ANALYTICS_URL};function a({currentSiteType:e,destinationSiteType:t,inputPath:n}){const r=Object.keys(i).includes(String(e))&&Object.keys(i).includes(String(t)),a="/"===n[0]?n:`/${n}`;return r&&t!==e?`${i[t]}${a}`:a}},HW6o:function(e,t,n){var r=n("GyhR"),i=n.n(r),a=n("Mr4W"),s=n.n(a),o=n("4+0X");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=new Map;let d=null;const u=e=>{e.forEach(e=>{const t=c.get(e.target);t&&t(e)})},h=e=>{d.unobserve(e),c.delete(e)},m=(e,t,n)=>{const r=t?[0,.5,1]:[0,1],i={root:document.querySelector("#mainContainer"),rootMargin:"-64px 0px 0px 0px",threshold:r};d=d||new window.IntersectionObserver(u,i),c.set(e,n),d.observe(e)},p=e=>c.has(e);t.a=(e=>{class t extends r.Component{constructor(...e){super(...e),l(this,"seen",!1),l(this,"flushTimeout",null),l(this,"attachDenzelNavigateListener",()=>{this.denzelNavigateListener=o.a.instance.subscribe("site","navigateStarted",(e,t,n,r)=>{const i=new RegExp("/pin/[\\w|-]+/$");!r&&n&&"string"==typeof n.url&&i.test(n.url)&&this.leave()})}),l(this,"detachDenzelNavigateListener",()=>{this.denzelNavigateListener&&(this.denzelNavigateListener.unsubscribe(),delete this.denzelNavigateListener)}),l(this,"enter",e=>{const t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&(this.props.onVisibilityChanged(!0),this.attachDenzelNavigateListener())}),l(this,"leave",()=>{const e=this._node;e&&p(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1,this.detachDenzelNavigateListener())}),l(this,"observe",()=>{try{this._node=s.a.findDOMNode(this)}catch(n){return}if(!this._node)return;const e=this.props.inAdsDesktopVideoExperiment,t=this._node;m(t,e,n=>{if(!c.has(t))return;const r=e?n.intersectionRatio>=.5:n.intersectionRatio>0||n.isIntersecting,i=this.props.trackFullVisible?n.intersectionRatio>=1:r,a=this.props.trackFullVisible?0===n.intersectionRatio:!i;!this.seen&&i?this.enter(n):this.seen&&a&&this.leave()})})}componentDidMount(){this.observe()}componentWillUnmount(){const e=this._node;e&&(this.leave(),h(e))}render(){return i.a.createElement(e,this.props)}}return l(t,"displayName",`WithVisibilityChanged(${e.displayName||e.name})`),t})},NO1S:function(e,t,n){var r=n("GyhR"),i=n("ReuR");function a({customCover:e,height:t,imgUrl:n,imgPos:i,width:a}){const s={height:t,width:a},o=t/a;let l="center center";if(e&&i){let e=1;e=i.height/i.width>o?a/i.width:t/i.height,l=`-${i.x*e}px -${i.y*e}px`}const c={backgroundImage:`url(${n})`,backgroundPosition:l,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF"};return r.createElement("div",{style:s},r.createElement("div",{className:"relative",style:c},r.createElement("div",{className:"imageWash absolute"})))}var s=n("+U6O");n.d(t,"a",function(){return c});const o=2,l=e=>{let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n+=1)t=(t<<5)-t+e.charCodeAt(n),t&=t;return Math.abs(t)};function c({boardThumbs:e=[],coverPin:t,cover:n,height:c=200,numCols:d=3,width:u=300}){const h=n?Math.floor(d/2):d,m=e.slice(0,2*h).map(e=>e.url||"").sort().join(""),p=l(m)%h;return r.createElement(s.t,{shape:"rounded",width:u,height:c},r.createElement(s.f,{columns:d,cover:!!n,gutter:o,height:c,layoutKey:p,renderImage:({index:t,width:s,height:o})=>0===t&&n?r.createElement(a,{customCover:n.isCustom,height:o,imgUrl:n.url,imgPos:n.position||{width:0,height:0,x:0,y:0},width:s}):r.createElement(i.a,{height:o,image:e[n?t-1:t],width:s}),width:u}))}},ReuR:function(e,t,n){n.d(t,"a",function(){return a});var r=n("GyhR"),i=n("+U6O");function a({image:e,width:t,height:n}){return e?r.createElement(i.t,{wash:!0,width:t,height:n},r.createElement(i.o,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:e.height||1,naturalWidth:e.width||1,src:e.url||""})):r.createElement(i.b,{color:"lightGray",width:t,height:n})}},dmIu:function(e,t,n){n.d(t,"a",function(){return g});var r=n("GyhR"),i=n.n(r),a=n("PNko"),s=n.n(a),o=n("Qo1m"),l=n("OLQZ"),c=n.n(l),d=n("+U6O"),u=n("v7Si");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m={UP:"up",DOWN:"down"},p=100;class g extends r.Component{constructor(...e){super(...e),h(this,"handleScroll",c()(()=>{if(this.props.listResource.isFetching)return;const e=this.props.scrollThreshold;Object(u.c)(this._container)-Object(u.d)(this._container)-Object(u.a)(this._container)<e&&this.fetchMore()},p)),h(this,"addEventListeners",e=>{const t=this.props.useWindow;t&&(e=window),this.removeEventListeners(),e&&(t||e.addEventListener("wheel",this.preventScroll),e.addEventListener("scroll",this.handleScroll)),this._container=e}),h(this,"preventScroll",e=>{const t=e.deltaY<0?m.UP:m.DOWN,n=this._container.scrollHeight-this._container.scrollTop-this._container.clientHeight==0,r=0===this._container.scrollTop;(t===m.DOWN&&n||t===m.UP&&r)&&e.preventDefault()})}UNSAFE_componentWillReceiveProps(e){const t=e.onDataFetched,n=e.listResource.data;n&&t(n.length)}componentWillUnmount(){this.removeEventListeners()}removeEventListeners(){const e=this.props.useWindow;this._container&&(e||this._container.removeEventListener("wheel",this.preventScroll),this._container.removeEventListener("scroll",this.handleScroll))}fetchMore(){this.props.listResource.isFetching||(this.props.listResource.isAtEnd?this._container.removeEventListener("scroll",this.handleScroll):this.props.listResource.fetchMore())}render(){const e=this.props,t=e.className,n=e.renderEmptyState,r=e.renderItem,a=this.props.listResource.data;return!this.props.listResource.isFetching&&a&&0===a.length?n():i.a.createElement("div",{className:s()(t,"listContainer"),ref:this.addEventListeners},a?i.a.createElement("ul",{className:"scrollableList"},a.map((e,t)=>r(e,t))):null,this.props.listResource.isAtEnd?null:i.a.createElement("div",{className:"loadingItem"},i.a.createElement(d.F,{accessibilityLabel:o.a._("Loading items"),show:this.props.listResource.isFetching})))}}h(g,"defaultProps",{onDataFetched:()=>{},scrollThreshold:400,useWindow:!1})},jzYu:function(e,t,n){n.d(t,"a",function(){return d});var r=n("GyhR"),i=n.n(r),a=n("iJ35"),s=n("hvnN"),o=n.n(s),l=n("Irlq"),c=n("+U6O");function d(e){const t=e.applyMarkup,n=void 0===t||t,r=e.applyLink,s=void 0!==r&&r,o=e.text,d=e.textMapping,u=void 0===d?{}:d,h={};return u&&Object.keys(u).forEach(e=>{const t=u[e];h[e]=t.t.toString(),n&&(t.b&&(h[e]=i.a.createElement("strong",{key:e},h[e])),t.r&&(h[e]=i.a.createElement(c.J,{inline:!0,color:"red",key:e},h[e])),t.l&&s&&(h[e]=i.a.createElement(a.b,{key:e,to:t.l},h[e])))}),i.a.createElement("span",null,Object(l.a)(o,h))}d.propTypes={applyMarkup:o.a.bool,applyLink:o.a.bool,text:o.a.string.isRequired,textMapping:o.a.shape({})}},lAPp:function(e,t,n){n.r(t);var r=n("GyhR"),i=n.n(r),a=n("Fpqi"),s=n("Qo1m"),o=n("66xa"),l=n("8k0i"),c=n("hvnN"),d=n.n(c),u=n("+U6O"),h=n("mwLX");const m="136x136",p="100x";class g extends r.Component{getImageProps(e){switch(e.type){case h.b.PIN:return{alt:e.description,src:(e.images[m]||{}).url};case h.b.BOARD:return{alt:e.name,src:(e.image_thumbnail_urls||{})[p]};case h.b.USER:return{alt:e.full_name,src:e.image_large_url};default:return{}}}render(){const e=this.props,t=e.headerIconImageUrl,n=e.headerIconObjects;if(t)return i.a.createElement(u.b,{height:h.a,width:h.a},i.a.createElement(u.t,{width:h.a,height:h.a,shape:"circle"},i.a.createElement(u.o,{alt:s.a._("Pinterest recommendation","label for notification with recommended content"),color:"#fff",naturalHeight:h.a,naturalWidth:h.a,src:t})));if(n&&n.length>0){const e=n[0];return i.a.createElement("div",null,e.type===h.b.USER?i.a.createElement(u.b,{height:h.a,width:h.a},i.a.createElement(u.a,{src:e.image_large_url,name:e.full_name})):i.a.createElement("div",{className:"fourPixelMask",style:{height:h.a,width:h.a}},i.a.createElement(u.o,Object.assign({color:"#fff",naturalHeight:h.a,naturalWidth:h.a},this.getImageProps(e)))))}return null}}var b,y,f;b=g,y="propTypes",f={headerIconImageUrl:d.a.string,headerIconObjects:d.a.arrayOf(d.a.shape({full_name:d.a.string,image_large_url:d.a.string,images:d.a.shape({"136x136":d.a.shape({url:d.a.string})}),image_thumbnail_urls:d.a.shape({"100x":d.a.string})}))},y in b?Object.defineProperty(b,y,{value:f,enumerable:!0,configurable:!0,writable:!0}):b[y]=f;var w=g,E=n("NO1S");const v=146,_=4,I="170x",T=296;function R({board:{name:e,image_cover_url:t,images:n}}){const r=t?{url:t}:void 0,a=n?n[I]:[];return i.a.createElement(E.a,{boardThumbs:a,cover:r,height:v,numCols:_,width:T})}R.propTypes={board:d.a.shape({image_cover_url:d.a.string,images:d.a.objectOf(d.a.arrayOf(d.a.shape({dominant_color:d.a.string,height:d.a.number,url:d.a.string,width:d.a.number}))),name:d.a.string.isRequired})};var S=n("1Yd3");const C=146,O=296;function N(e){const t=e.interests;return i.a.createElement(u.b,{width:O,display:"flex",justifyContent:"between"},t.map((e,t)=>{const n=e.backgroundColor,r=e.id,a=e.images["236x"],s=e.name;return i.a.createElement(S.a,{key:r,backgroundColor:n,image:a,name:s,width:C})}))}N.propTypes={interests:d.a.arrayOf(d.a.shape({backgroundColor:d.a.string,id:d.a.string.isRequired,images:d.a.shape({"236x":d.a.shape({url:d.a.string.isRequired,width:d.a.number.isRequired,height:d.a.number.isRequired})}).isRequired,name:d.a.string.isRequired})).isRequired};var x=n("/kx4"),D=n("iJ35"),P=n("jzYu"),k=n("QJ2d"),M=n("NmcB"),A=n("q579"),j=n("buCM");const L=e=>A.a.removeQueryParams(e,["notification_ids"]),U=(e,t)=>{const r=t&&t[0]&&t[0].actor_id,i=A.a.getQueryStringParamsFromUrl(e);if(r&&i.notification_ids){return((e,t)=>{const r={notifications:JSON.stringify(t)};return n.e("sterlingAPI").then(n.bind(null,"oiGH")).then(({default:t})=>(new t).put(`/ads/v3/notifications_v2/${e}/`,r))})(r,JSON.parse(i.notification_ids).map(e=>({id:e,status:j.f.READ})))}return Promise.resolve()};function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const H={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,GRID:3,MINI_PIN_GRID:4,CAROUSEL:5,LIST:6,TWO_ROW_WITH_COUNT:7,NO_ICON_TEXT:8,NO_ICON_ROW_WITH_COUNT:9,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15},W=2,q=4,z=146,F=73;class G extends r.Component{constructor(...e){super(...e),B(this,"handleClick",()=>{const e=this.props,t=e.handleClick,n=e.id,r=e.type,i=e.overrideClickUrl,a=e.contentItems;Object(M.a)(101,{objectId:n,view:107,viewParameter:3081,news_type:r}),this.isAdsUrl(i)&&U(i,a),t()}),B(this,"isAdsUrl",e=>{const t=k.a.settings.CANONICAL_ADS_URL;return e&&0===e.indexOf(t)})}get displayComponent(){const e=this.props,t=e.contentItemCount,n=e.contentItems,r=e.contentText,a=e.displayMode,s=n.filter(({content_object:e})=>e).map(({content_object:e})=>e);if(this.canBeSupportedByDisplayModes(a,[H.MINI_PIN_GRID_2])){const e=s.map(e=>e.images["136x136"]).slice(0,q);return i.a.createElement(x.a,{height:z,pins:e,pinWidth:F,storyType:h.b.PIN})}if(this.canBeSupportedByDisplayModes(a,[H.MINI_BOARD_GRID]))return i.a.createElement(R,{board:s[0]});if(this.canBeSupportedByDisplayModes(a,[H.MINI_USER_GRID])){const e=s[0];return i.a.createElement(x.a,{height:z,pins:e.recent_pin_images["200x"].slice(0,q),pinWidth:F,storyType:h.b.USER,user:e})}if(this.canBeSupportedByDisplayModes(a,[H.ROW_WITH_COUNT_2]))return i.a.createElement(o.a,{previewItemCount:t,previewItems:s});if(this.canBeSupportedByDisplayModes(a,[H.MINI_INTEREST_GRID]))return i.a.createElement(N,{interests:s.slice(0,W)});if(this.canBeSupportedByDisplayModes(a,[H.MINI_SEARCH_GRID])){const e=s[0].images.map(e=>({url:e})).slice(0,q);return i.a.createElement(x.a,{height:z,pins:e,pinWidth:F,search:s[0].term,storyType:h.b.SEARCH})}return this.canBeSupportedByDisplayModes(a,[H.BASIC])?null:this.canBeSupportedByDisplayModes(a,[H.TEXT])?i.a.createElement(u.b,{width:260},i.a.createElement(u.J,{size:"md"},r)):void 0}canBeSupportedByDisplayModes(e,t){return t.some(t=>e&1<<t)}render(){const e=this.props,t=e.headerIconImageUrl,n=e.headerIconObjects,r=e.headerText,a=e.id,o=e.lastUpdatedAt,c=e.overrideClickUrl,d=e.siteType,h=e.textMapping,m=e.unread,p=c||"/news_hub/"+a,g=this.isAdsUrl(p)?L(p):Object(l.a)({currentSiteType:d,destinationSiteType:0,inputPath:p}),b=this.displayComponent,y=new Date,f=new Date(o);return y.getTime()-f.getTime()>864e5&&f.setHours(0,0,0,0),i.a.createElement(D.b,{className:"newsHubItem",to:g,onClick:this.handleClick},i.a.createElement(u.b,{display:"flex"},i.a.createElement(w,{headerIconImageUrl:t,headerIconObjects:n,id:a}),i.a.createElement(u.b,null,i.a.createElement(u.b,{marginLeft:3},i.a.createElement(u.b,{display:"flex",alignItems:"center"},i.a.createElement(u.b,{marginRight:6},i.a.createElement(u.b,{width:260},i.a.createElement("span",{style:{display:"inline",marginRight:8}},i.a.createElement(u.J,{inline:!0,size:"md"},i.a.createElement(P.a,{text:r,textMapping:h}))),i.a.createElement(u.b,{display:"inlineBlock"},i.a.createElement(u.J,{inline:!0,size:"xs",color:"gray"},s.a.getHumanizedTimesince(f.getTime(),{isAbbreviated:!0}))))),m&&i.a.createElement(u.t,{height:8,shape:"circle",width:8},i.a.createElement("div",{style:{backgroundColor:"#e60023",width:8,height:8}})))),!!b&&i.a.createElement(u.b,{marginTop:3,marginLeft:2},b))))}}B(G,"propTypes",{contentItemCount:d.a.number,contentItems:d.a.arrayOf(d.a.object),contentText:d.a.string,displayMode:d.a.number.isRequired,handleClick:d.a.func,headerIconImageUrl:d.a.string,headerIconObjects:d.a.arrayOf(d.a.shape({description:d.a.string,full_name:d.a.string,image_cover_url:d.a.string,images:d.a.shape({"136x136":d.a.shape({url:d.a.string})}),name:d.a.string,type:d.a.string.isRequired})),headerText:d.a.string,id:d.a.string.isRequired,lastUpdatedAt:d.a.string.isRequired,overrideClickUrl:d.a.string,siteType:d.a.number,subHeaderText:d.a.string,textMapping:d.a.shape({}),type:d.a.number.isRequired,unread:d.a.bool}),B(G,"defaultProps",{handleClick:()=>{}});var J=n("o9D8"),Y=Object(J.a)(G),V=n("FBiG"),Q=n("ePT2");class X extends r.Component{constructor(...e){var t,n,r;super(...e),r=(()=>{Q.a.create("NewsHubResource").callDelete({showError:!1}).then(e=>this.props.handleClick())}),(n="handleButtonClick")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}render(){return i.a.createElement("div",{className:"newsHubMarkReadButton"},i.a.createElement(u.b,{display:"flex",justifyContent:"center",alignItems:"center"},i.a.createElement(V.a,{accessibilityLabel:s.a._("Mark all as read","mark all the unread notifications as read"),shape:"pill",onClick:this.handleButtonClick},i.a.createElement(u.J,{size:"sm"},s.a._("Mark all as read","mark all the unread notifications as read")))))}}var $=n("dmIu"),K=n("8rWZ"),Z=n("9Y9K"),ee=n("UmN8"),te=n("2YES"),ne=n("Y2BC");function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ie extends r.Component{constructor(e){super(e),re(this,"onDataFetched",e=>{this.hasEarlier=!1}),re(this,"handleItemClick",()=>{this.props.handleItemClick()}),re(this,"handleMarkAllButtonClicked",()=>{this.props.newsHubResource.refreshData()}),re(this,"renderItem",(e,t)=>{const n={impressionAuxFields:{newsType:e.news_type},impressionType:"News",loggingId:e.id,slotIndex:t,viewParameter:3081,viewType:107};return i.a.createElement("li",{className:"newsHubItemWrapper",key:t},this.renderDate(e.last_updated_at,t),i.a.createElement(Y,Object.assign({contentItemCount:e.content_item_count,contentItems:e.content_items,contentText:e.content_text,displayMode:e.encoded_display_mode,handleClick:this.handleItemClick,headerIconImageUrl:e.header_icon_image_url,headerIconObjects:e.header_icon_objects,headerText:e.header_text,id:e.id,lastUpdatedAt:e.last_updated_at,overrideClickUrl:e.override_click_url,subHeaderText:e.sub_header_text,siteType:this.props.siteType,textMapping:e.text_mapping,type:e.news_type,unread:e.unread},n)))}),re(this,"renderEmptyState",()=>i.a.createElement(u.b,{height:400},i.a.createElement(u.b,{display:"flex",justifyContent:"center",color:"darkGray",shape:"pill",paddingY:5,margin:5},i.a.createElement(u.g,{xs:10},i.a.createElement(u.J,{bold:!0,color:"white",size:"lg"},s.a._("New! Discover ideas from your friends, followers and people who love your Pins!")))))),this.hasEarlier=!1}getChildContext(){return{preloadingSupported:!0}}componentDidMount(){this.logPanelImpression()}logPanelImpression(){const e=a.a.getInstance(),t=e.getViewFromContext();Object(M.a)(13,{view:107,viewParameter:3081}),e.addViewToContext(t)}renderDate(e,t){const n=new Date(e);let r;if(n.setHours(0,0,0,0),0===t)this.firstDay=n,r=s.a._("New","subtitle for new notifications in notification dropdown");else{if(n.getTime()===this.firstDay.getTime()||this.hasEarlier)return null;r=s.a._("Earlier","subtitle for old notifications in notification dropdown"),this.hasEarlier=!0}return i.a.createElement("div",{className:"newsHubItemDate"},i.a.createElement(u.J,{bold:!0,size:"md",color:"gray"},r))}renderTitle(){return i.a.createElement("div",{className:"newsHubTitle"},i.a.createElement(u.J,{bold:!0,inline:!0,size:"xl"},s.a._("Notifications","Title for news hub dropdown on the right upper corner in home page")),this.renderMarkReadButton())}renderMarkReadButton(){return i.a.createElement(ee.a,{name:"news_hub_unread"},({anyEnabled:e})=>e?i.a.createElement(X,{handleClick:this.handleMarkAllButtonClicked}):null)}render(){return i.a.createElement(K.a,{view:107,viewParameter:3081},i.a.createElement("div",null,this.renderTitle(),i.a.createElement($.a,{className:"newsHubPanel",onDataFetched:this.onDataFetched,renderEmptyState:this.renderEmptyState,renderItem:this.renderItem,listResource:this.props.newsHubResource})))}}re(ie,"childContextTypes",{preloadingSupported:d.a.bool.isRequired}),re(ie,"defaultProps",{handleItemClick:()=>{}});var ae=Object(Z.compose)(te.e,Object(ne.b)({name:"NewsHubResource",key:"newsHubResource",options:e=>({page_size:10})},{allowStale:!1}))(ie);function se(e){const t=e.handleItemClick,n=e.locale,r=e.siteType;return i.a.createElement("div",{className:"NewsConversationsDropdown"},i.a.createElement("div",{className:"content"},i.a.createElement(ae,{handleItemClick:t,locale:n,siteType:r})))}n.d(t,"default",function(){return se}),se.propTypes={handleItemClick:d.a.func,locale:d.a.string.isRequired,siteType:d.a.number}},mwLX:function(e,t,n){n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a});const r=40,i={BOARD:"board",BOARD_ACTIVITY:"boardactivity",BOARD_ACTIVITY_COMMENT:"boardactivitycomment",DID_IT:"userdiditdata",INTEREST:"interest",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},a=3},o9D8:function(e,t,n){n.d(t,"a",function(){return g});var r=n("GyhR"),i=n("hvnN"),a=n.n(i),s=n("q579"),o=n("kIql"),l=n("HW6o"),c=n("NmcB");function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=s.a.getQueryStringParams()&&s.a.getQueryStringParams().debug_impression_log,m={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573}},p=1e6;function g(e){const t=Object(l.a)(e);class n extends r.Component{constructor(...e){super(...e),u(this,"state",{impressionStarted:!1,impressionLogged:!1}),u(this,"currentNs",()=>Date.now()*p),u(this,"startTime",0),u(this,"debugPinImpressions",h&&"Pin"===this.props.impressionType&&this.props.viewer.isEmployee),u(this,"handleVisibilityChanged",e=>{const t=this.props,n=t.componentType,r=t.contextLogData,i=t.impressionAuxFields,a=t.impressionType,s=t.loggingId,o=t.slotIndex,l=t.viewParameter,u=t.viewType,h=t.viewData;if(e)this.startTime=this.currentNs(),this.debugPinImpressions&&(console.log(o+" started timer"),this.setState({impressionStarted:!0}));else{const e=m[a],t=e.idType,p=this.currentNs(),g=d({endTime:p,[t]:s,slotIndex:o,time:this.startTime,renderDuration:p-this.startTime},i);Object(c.a)(e.eventType,d({component:n,eventData:{[e.impressionType]:[g]},view:u,viewParameter:l,viewData:h},r)),this.debugPinImpressions&&(console.log(o+" logged for "+(p-this.startTime)/1e9+"s"),this.setState({impressionStarted:!1,impressionLogged:!0}))}})}render(){return r.createElement(t,Object.assign({onVisibilityChanged:this.handleVisibilityChanged,debugImpressionStarted:this.debugPinImpressions?this.state.impressionStarted:void 0,debugImpressionLogged:this.debugPinImpressions?this.state.impressionLogged:void 0},this.props))}}return n.propTypes={componentType:a.a.number,contextLog:a.a.func.isRequired,contextLogData:a.a.shape({}),impressionAuxFields:a.a.shape({}),impressionType:a.a.oneOf(["Article","Pin","Board","Interest","Search","User","News","Story","Guide"]),loggingId:a.a.string.isRequired,slotIndex:a.a.number,viewParameter:a.a.number.isRequired,viewType:a.a.number.isRequired,viewData:a.a.shape({interest:a.a.string}),viewer:a.a.shape({isEmployee:a.a.bool}).isRequired},Object(o.a)(n)}},v7Si:function(e,t,n){n.d(t,"b",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"e",function(){return d}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return h}),n.d(t,"f",function(){return m});var r=n("2hPZ");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},s={linear:e=>e,"ease-in":e=>e*e,"ease-out":e=>e*(2-e),"ease-in-out":e=>e<.5?2*e*e:(4-2*e)*e-1},o=({scrollPosition:e,containerSize:t,contentSize:n,intendedDistance:r,extendToEdgeDistance:i=0})=>{const a=n-t,s=a-e,o=-e;let l=r;return l=Math.min(l,s),l=Math.max(l,o),r>0&&a-(e+l)<=i?l=a-e:r<0&&e+l<=i&&(l=-e),l},l=(e,t,n,l={})=>{const c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}({},a,l),d=e.scrollLeft,u=e.scrollTop,h=e.scrollWidth,m=e.scrollHeight,p=e.clientWidth,g=e.clientHeight,b=o({scrollPosition:d,containerSize:p,contentSize:h,intendedDistance:t,extendToEdgeDistance:c.extendToEdgeDistanceX}),y=o({scrollPosition:u,containerSize:g,contentSize:m,intendedDistance:n,extendToEdgeDistance:c.extendToEdgeDistanceY}),f=Math.abs(Math.floor(b/c.scrollSpeedPxPerMs)),w=Math.abs(Math.floor(y/c.scrollSpeedPxPerMs));let E=Math.max(f,w);c.minScrollDuration&&(E=Math.max(E,c.minScrollDuration));const v=s[c.easingFunction]||s["ease-in-out"];return Object(r.a)({window,duration:E,run:t=>{e.scrollLeft=d+b*v(t),e.scrollTop=u+y*v(t),1===t&&c.onAnimationComplete&&setTimeout(c.onAnimationComplete(),0)}})};function c(e){return e===window?window.innerHeight:e.clientHeight}function d(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function u(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function h(e){return e===window?d():e.scrollTop}function m(){window&&window.scroll(0,0)}}}]);
//# sourceMappingURL=pjs-80-8f9e3c7d9ba22ca31c60.mjs.map
